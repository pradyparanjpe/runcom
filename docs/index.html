<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-11-01 Mon 10:49 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Prady_runcom</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Pradyumna Paranjape" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Prady_runcom</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org7748267">Prady_runcom</a>
<ul>
<li><a href="#org56a0c2f">What's this?</a></li>
<li><a href="#org184f787">Will you be able to set this up?</a></li>
</ul>
</li>
<li><a href="#org109483c">Copyright/License Header</a></li>
<li><a href="#org1e5e90a">Legend</a>
<ul>
<li><a href="#orgfca089d">Brackets</a></li>
</ul>
</li>
<li><a href="#orge701887">Requirements</a>
<ul>
<li><a href="#orgae635be">Knowledge</a></li>
<li><a href="#org8437130">Dependencies</a></li>
</ul>
</li>
<li><a href="#org5d0369d">Setup</a>
<ul>
<li><a href="#orgff38b0c">Bootstrap setup using script</a></li>
<li><a href="#org36c6e79">Guide for manual setup.</a></li>
</ul>
</li>
<li><a href="#org5bc2fba">Undo Setup</a>
<ul>
<li><a href="#org853f2f0">Bootstrap unset using script</a></li>
<li><a href="#org909326c">Guide for manual un-setup.</a></li>
</ul>
</li>
<li><a href="#orgd0d5b52">Personalization</a>
<ul>
<li><a href="#org67103d2">Local</a></li>
<li><a href="#orgd7c677b">Synchronized</a></li>
<li><a href="#orga2f4819">Proxy settings</a></li>
</ul>
</li>
<li><a href="#orgab14357">Structure</a>
<ul>
<li><a href="#orgccf2beb">Bash</a></li>
<li><a href="#org8361670">Zsh</a></li>
</ul>
</li>
<li><a href="#orgac3e82a">Headers</a></li>
<li><a href="#orga8e816e">Profiles</a></li>
<li><a href="#org4d328fd">Init</a>
<ul>
<li><a href="#org487cc11">bash</a></li>
<li><a href="#org7e0b67e">zsh</a></li>
</ul>
</li>
<li><a href="#orgf8886a6">Inherit</a>
<ul>
<li><a href="#orge20f278">bash</a></li>
<li><a href="#orgac98433">zsh</a></li>
<li><a href="#org684650f">shrc</a></li>
</ul>
</li>
<li><a href="#org25fa41b">Better alternatives</a>
<ul>
<li><a href="#orgab719bb">cat</a></li>
<li><a href="#orgf1bce78">g/re/p</a></li>
<li><a href="#orgd4bac9e">List Contents</a></li>
<li><a href="#org3f1791c">neo visual editor improved</a></li>
<li><a href="#orgcfc523c">Container</a></li>
</ul>
</li>
<li><a href="#org0bfec8c">Variables</a>
<ul>
<li><a href="#org045649d">XDG</a></li>
<li><a href="#org1d31b83">PATH</a></li>
<li><a href="#org99a97ab">Editor wars</a></li>
<li><a href="#orga834378">C(++) exports</a></li>
<li><a href="#org17e85a0">GPU exports</a></li>
<li><a href="#orgd254c00">Bemenu exports</a></li>
<li><a href="#org994c2dc">GTK+ debugging output</a></li>
</ul>
</li>
<li><a href="#orgafa8372">Functions</a>
<ul>
<li><a href="#org39f8eb0">Python</a></li>
<li><a href="#orged2fd7f">Git</a></li>
<li><a href="#orge6f080d">Prompt String</a></li>
<li><a href="#org4de8d8d">Mathematical</a></li>
<li><a href="#org19b00db">Compilation</a></li>
<li><a href="#org23ce0e0">Mount over ssh</a></li>
<li><a href="#org186856d">Launch gui</a></li>
<li><a href="#orgaa38c60">Un-Compress by context</a></li>
<li><a href="#org4d55c50">Navigate</a></li>
<li><a href="#org53745f2">zwc</a></li>
<li><a href="#org4f676b8">disable autovenv</a></li>
<li><a href="#org84fa712">lszcat</a></li>
<li><a href="#orgae400c8">manual pages</a></li>
</ul>
</li>
<li><a href="#orge3f3efe">Aliases</a>
<ul>
<li><a href="#org10ea43d">Disk Usage</a></li>
<li><a href="#org433c37a">manual page help</a></li>
<li><a href="#orgf13de9a">Network</a></li>
<li><a href="#org3f28657">Monitor Job queues</a></li>
<li><a href="#orgd4ea667">Lazy single-handed exit</a></li>
<li><a href="#org9563355">[z]wc</a></li>
</ul>
</li>
<li><a href="#org2350bdd">Networking</a>
<ul>
<li><a href="#org2e6417d">State</a></li>
<li><a href="#org9e7c582">SSH Agent</a></li>
</ul>
</li>
<li><a href="#org43fd27d">Window Manager settings</a>
<ul>
<li><a href="#org2b96663">Sway exports</a></li>
<li><a href="#org4ad462f">User Interface (GUI/CLI)</a></li>
</ul>
</li>
<li><a href="#org232eb97">Calls</a>
<ul>
<li><a href="#org7ff1c6e">bash</a></li>
<li><a href="#org0eb13d8">zsh</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org7748267" class="outline-2">
<h2 id="org7748267">Prady_runcom</h2>
<div class="outline-text-2" id="text-org7748267">
</div>
<div id="outline-container-org56a0c2f" class="outline-3">
<h3 id="org56a0c2f">What's this?</h3>
<div class="outline-text-3" id="text-org56a0c2f">
<ul class="org-ul">
<li>A compilation of dotfiles: default variables, custom functions.</li>
<li><b>My</b> configuration backup, "<a href="https://git-scm.com/docs/git-push">push</a>"ed to work as a template for yours.</li>
</ul>
</div>


<div id="outline-container-org77b7b82" class="outline-4">
<h4 id="org77b7b82">Aim</h4>
<div class="outline-text-4" id="text-org77b7b82">
<ul class="org-ul">
<li>Cross-machine synchronization (hence, git)</li>
<li>Modularity (hence, not a single file)</li>
<li>Self-documenting (hence, a single 😉 org file)</li>
<li>Workflow speed (obviously)</li>
<li>"Pretty" low resource load (hence, not GNOME/KDE)</li>
</ul>
</div>
</div>

<div id="outline-container-orgf3f2060" class="outline-4">
<h4 id="orgf3f2060">Non-aim</h4>
<div class="outline-text-4" id="text-orgf3f2060">
<ul class="org-ul">
<li>Ease</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org184f787" class="outline-3">
<h3 id="org184f787">Will you be able to set this up?</h3>
<div class="outline-text-3" id="text-org184f787">
<p>
Probably <a href="#orgae635be"><b>NOT</b></a>.
</p>
<div class="important" id="orgd463526">
<p>
Read till the end before you decide to set this up.
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-org109483c" class="outline-2">
<h2 id="org109483c">Copyright/License Header</h2>
<div class="outline-text-2" id="text-org109483c">
<p>
Copyright 2020, 2021 Pradyumna Paranjape
</p>

<p>
This file is part of Prady_runcom.
</p>

<p>
Prady_runcom is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
</p>

<p>
Prady_runcom is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
</p>

<p>
You should have received a copy of the GNU General Public License
along with Prady_runcom.  If not, see <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.
</p>
</div>
</div>

<div id="outline-container-org1e5e90a" class="outline-2">
<h2 id="org1e5e90a">Legend</h2>
<div class="outline-text-2" id="text-org1e5e90a">
</div>
<div id="outline-container-orgfca089d" class="outline-3">
<h3 id="orgfca089d">Brackets</h3>
<div class="outline-text-3" id="text-orgfca089d">
<ul class="org-ul">
<li><b>Square</b> <code>[]</code>: optional parts: <code>W[orld]H[ealth]O[rganisation]</code></li>
<li><b>Angular</b> <code>&lt;&gt;</code>: instructions to fill: <code>&lt;a global organisation&gt;</code></li>
<li><b>Curly</b>, following a dollar <code>${}</code>: environment variable <code>${HOME}</code></li>
<li><b>Round</b>, with bar separator: <code>(WHO|UNO)</code> = <i>WHO or UNO</i></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orge701887" class="outline-2">
<h2 id="orge701887">Requirements</h2>
<div class="outline-text-2" id="text-orge701887">
</div>
<div id="outline-container-orgae635be" class="outline-3">
<h3 id="orgae635be">Knowledge</h3>
<div class="outline-text-3" id="text-orgae635be">
<ul class="org-ul">
<li>Linux shell commands. We shall try to be POSIX-compliant.</li>
<li>Knowledge of Linux, "dotfiles".</li>
<li><p>
super user (sudo) permissions (only for package installation)
</p>
<div class="warning" id="orgc379a1c">
<p>
Avoid use of <b>sudo</b> as much as possible.
</p>

</div></li>
</ul>
</div>
</div>

<div id="outline-container-org8437130" class="outline-3">
<h3 id="org8437130">Dependencies</h3>
<div class="outline-text-3" id="text-org8437130">
<ul class="org-ul">
<li>A GNU/Linux distribution. I use <a href="https://fedoraproject.org">Fedora</a>.</li>
<li><a href="https://curl.se/">curl</a> for proxy authentication.</li>
<li>GNU <a href="https://www.gnu.org/software/stow/">stow</a>: dotfile management</li>
<li><a href="https://git-scm.com/">git</a>: git it</li>
</ul>

<div class="important" id="orgeeb0485">
<p>
For Alpine Linux, <a href="file:///etc/apk/repositories">enable</a> the <a href="https://&lt;mirror-server&gt;/alpine/%3Cversion%3E/community">community repository</a>.
</p>
<ul class="org-ul">
<li>If you are using Alpine, you <b>MUST</b> know how.</li>
</ul>

</div>
</div>

<div id="outline-container-org98b1a88" class="outline-4">
<h4 id="org98b1a88">Bootstrap installation of dependencies</h4>
<div class="outline-text-4" id="text-org98b1a88">
<p>
For automated setup, run the <a href="./setup/dependencies.sh">dependencies script</a> with elevated privileges.
</p>
<div class="org-src-container">
<pre class="src src-sh">curl -sLf <span style="color: #98be65;">"https://pradyparanjpe.github.io/runcom/setup/dependencies.sh"</span> | sudo sh
</pre>
</div>

<div class="note" id="org7e510cd">
<p>
Inspecting scripts before running them (especially with <code>sudo</code>) is always a good idea.
The <i>dependencies</i> script is tangled (with automation wrappers) from the code below.
If you feel an urge to inspect it or if it fails,
install dependencies manually instead, that's all it does.
</p>

</div>
</div>
</div>

<div id="outline-container-org121e661" class="outline-4">
<h4 id="org121e661">Guide for manual installation of dependencies.</h4>
<div class="outline-text-4" id="text-org121e661">
<p>
Use suitable package manager to install curl, git, stow.
It may be useful to update existing packages and repository database before installing packages.
</p>

<ul class="org-ul">
<li><p>
dnf: Fedora, RockyLinux, RHEL, CentOS
</p>
<div class="org-src-container">
<pre class="src src-sh">dnf -y update || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">65</span>
dnf -y install curl git stow || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">66</span>
</pre>
</div></li>

<li><p>
apk: Alpine Linux
</p>
<div class="org-src-container">
<pre class="src src-sh">apk update || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">65</span>
apk --virtual runcom add curl git stow || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">66</span>
</pre>
</div></li>

<li><p>
apt: Debian, Ubuntu
</p>
<div class="org-src-container">
<pre class="src src-sh">apt update || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">65</span>
apt install -y curl git stow || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">66</span>
</pre>
</div></li>

<li><p>
zypper: OpenSuSE, SuSE
</p>
<div class="org-src-container">
<pre class="src src-sh">zypper ref || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">65</span>
zypper -n install curl git stow || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">66</span>
</pre>
</div></li>

<li><p>
pacman: Arch, Manjaro
</p>
<div class="org-src-container">
<pre class="src src-sh">pacman --noconfirm -Syu curl git stow || <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">65</span>
</pre>
</div></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-org5d0369d" class="outline-2">
<h2 id="org5d0369d">Setup</h2>
<div class="outline-text-2" id="text-org5d0369d">
<ul class="org-ul">
<li>Affirm <a href="#orge701887">requirements</a>.</li>
</ul>
<div class="warning" id="orge2e10c1">
<p>
Do <b>NOT</b> use <code>sudo</code> during setup.
</p>

</div>

<div class="warning" id="org18063bc">
<ul class="org-ul">
<li>The next steps require you to delete all <a href="#orgab14357">stowed dotfiles</a>.</li>
<li>We shall copy them in a directory named <code>${HOME}/OLD_CONFIG</code> before proceeding.</li>
<li>Preserve this backup, you will need this during un-setup.</li>
<li>You HAVE BEEN warned.</li>
</ul>

</div>
</div>

<div id="outline-container-orgff38b0c" class="outline-3">
<h3 id="orgff38b0c">Bootstrap setup using script</h3>
<div class="outline-text-3" id="text-orgff38b0c">
<ul class="org-ul">
<li><p>
Setup may be bootstrapped by running the <a href="./setup/setup.sh">setup</a> script.
</p>

<div class="org-src-container">
<pre class="src src-sh">curl -sLf <span style="color: #98be65;">"https://pradyparanjpe.github.io/runcom/setup/setup.sh"</span> | sudo sh

</pre>
</div>

<div class="note" id="orgda505df">
<p>
Inspecting scripts before running them is generally a good idea.
The <i>setup</i> script is tangled (with automation wrappers) from the code below.
If you feel an urge to inspect it or if it fails,
follow manual setup instructions with modifications instead.
</p>

</div></li>
</ul>
</div>
</div>

<div id="outline-container-org36c6e79" class="outline-3">
<h3 id="org36c6e79">Guide for manual setup.</h3>
<div class="outline-text-3" id="text-org36c6e79">
</div>
<div id="outline-container-orgacc0b28" class="outline-4">
<h4 id="orgacc0b28">Clone the repository and place at <code>${HOME}/.runcom</code></h4>
<div class="outline-text-4" id="text-orgacc0b28">
<div class="org-src-container">
<pre class="src src-sh">git clone --recurse-submodules <span style="color: #98be65;">"https://github.com/pradyparanjpe/runcom"</span> <span style="color: #98be65;">"${HOME}/.runcom"</span> || <span style="color: #51afef;">exit</span> <span style="color: #da8548; font-weight: bold;">1</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org60f787e" class="outline-4">
<h4 id="org60f787e">Stow dotfiles</h4>
<div class="outline-text-4" id="text-org60f787e">
<ul class="org-ul">
<li><code>GNU stow</code> will create symlinked structure for all contents in <code>${HOME}/.runcom/dotfiles</code> in <code>${HOME}</code>.</li>
<li>If <code>stow</code> finds a pre-existing directory, symlinks are created inside that directory.</li>
<li>If <code>stow</code> finds a pre-existing file (non-directory), it throws error.</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="orgc7337be"></a>Preserve 'current' configuration in a <b>visible</b> folder in <code>${HOME}</code><br />
<div class="outline-text-5" id="text-orgc7337be">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">presernce</span>=<span style="color: #98be65;">"${HOME}/OLD_CONFIG"</span>
mkdir -p <span style="color: #98be65;">"${presence}"</span>
cat &lt;&lt; EOR &gt;&gt; <span style="color: #98be65;">"${presence}/README.md"</span>
<span style="color: #98be65;">This directory contains a backup of configuration that existed before runcom setup.</span>
<span style="color: #98be65;">Files in this directory may be merged to their respective place after inspection.</span>
<span style="color: #98be65;">I recommend that this directory should **NOT** deleted.</span>
<span style="color: #98be65;">It will be required during un-doing the setup.</span>
<span style="color: #98be65;">EOR</span>
</pre>
</div>
</div>
</li>

<li><a id="org4ccf127"></a>Create directories, so that symlinks are made <i>inside</i> them.<br />
<div class="outline-text-5" id="text-org4ccf127">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">for</span> conf_mask<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"${HOME}/.runcom/dotfiles/.config"</span>/*; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${conf_mask}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">hard_directory</span>=<span style="color: #98be65;">"${HOME}/.config/${conf_mask##*/}"</span>
        <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> mkdir <span style="color: #98be65;">"${hard_directory}"</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
            mv <span style="color: #98be65;">"${hard_directory}"</span> <span style="color: #98be65;">"${presence}/${hard_directory}"</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> mkdir <span style="color: #98be65;">"${hard_directory}"</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">still no luck</span>
            printf <span style="color: #98be65;">"%s Couldn't be removed and backed up\n"</span>
            printf <span style="color: #98be65;">"This *shall* cause stow error\n"</span>
        <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">done</span>
<span style="color: #51afef;">for</span> data_mask<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"${HOME}/.runcom/dotfiles/.local/share"</span>/*; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${conf_mask}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">hard_directory</span>=<span style="color: #98be65;">"${HOME}/.local/share/${data_mask##*/}"</span>
        <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> mkdir <span style="color: #98be65;">"${hard_directory}"</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
            mv <span style="color: #98be65;">"${hard_directory}"</span> <span style="color: #98be65;">"${presence}/${hard_directory}"</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> mkdir <span style="color: #98be65;">"${hard_directory}"</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">still no luck</span>
            printf <span style="color: #98be65;">"%s Couldn't be removed and backed up\n"</span>
            printf <span style="color: #98be65;">"This *shall* cause stow error\n"</span>
        <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">done</span>
<span style="color: #d76f10;">unset</span> hard_directory
<span style="color: #d76f10;">unset</span> non_mt_msg
</pre>
</div>
</div>
</li>

<li><a id="orgcb62b04"></a>Stow<br />
<div class="outline-text-5" id="text-orgcb62b04">
<div class="org-src-container">
<pre class="src src-sh">stow -vS -t <span style="color: #98be65;">"${HOME}"</span> -d <span style="color: #98be65;">"${HOME}/.runcom"</span> dotfiles
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org5bc2fba" class="outline-2">
<h2 id="org5bc2fba">Undo Setup</h2>
<div class="outline-text-2" id="text-org5bc2fba">
<div class="warning" id="orgc4be632">
<p>
Do <b>NOT</b> use <code>sudo</code> during unset.
</p>

</div>

<div class="note" id="org2c3803f">
<ul class="org-ul">
<li>The next steps will require a directory containing 'old configuration files'.</li>
<li>You HAD BEEN warned against deleting it during the setup.</li>
</ul>

</div>
</div>

<div id="outline-container-org853f2f0" class="outline-3">
<h3 id="org853f2f0">Bootstrap unset using script</h3>
<div class="outline-text-3" id="text-org853f2f0">
<ul class="org-ul">
<li><p>
Unset may be bootstrapped by running the <a href="./setup/unset.sh">unset</a> script.
</p>

<div class="org-src-container">
<pre class="src src-sh">curl -sLf <span style="color: #98be65;">"https://pradyparanjpe.github.io/runcom/setup/unset.sh"</span> | sudo sh

</pre>
</div>

<div class="note" id="orgd7c45d2">
<p>
Inspecting scripts before running them is generally a good idea.
The <i>unset</i> script is tangled (with automation wrappers) from the code below.
If you feel an urge to inspect it or if it fails,
follow manual unset instructions with modifications instead.
</p>

</div></li>
</ul>
</div>
</div>

<div id="outline-container-org909326c" class="outline-3">
<h3 id="org909326c">Guide for manual un-setup.</h3>
<div class="outline-text-3" id="text-org909326c">
</div>
<div id="outline-container-org2ba3b84" class="outline-4">
<h4 id="org2ba3b84">UnStow dotfiles</h4>
<div class="outline-text-4" id="text-org2ba3b84">
<ul class="org-ul">
<li>Use <code>GNU stow</code> to unstow to un-linked structure for all contents in <code>${HOME}/.runcom/dotfiles</code> from <code>${HOME}</code>.</li>
</ul>
</div>
<ul class="org-ul">
<li><a id="org55856f7"></a>UnStow<br />
<div class="outline-text-5" id="text-org55856f7">
<div class="org-src-container">
<pre class="src src-sh">stow -vp -t <span style="color: #98be65;">"${HOME}"</span> -d <span style="color: #98be65;">"${HOME}/.runcom"</span> -D dotfiles

</pre>
</div>
</div>
</li>

<li><a id="org8740bce"></a>Restore directories form <code>${HOME}/OLD_CONFIG</code><br />
<div class="outline-text-5" id="text-org8740bce">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">for</span> conf_dir<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"${1:-${HOME}/OLD_CONFIG}"</span>/*; <span style="color: #51afef;">do</span>
    cp -r <span style="color: #98be65;">"${conf_dir}"</span> <span style="color: #98be65;">"${HOME}"</span>/. || <span style="color: #51afef;">break</span>
<span style="color: #51afef;">done</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2181</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> $<span style="color: #ffffaf;">?</span> -ne <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    printf <span style="color: #98be65;">"Restoration unsuccessful, copy backup files manually.\n"</span>
<span style="color: #51afef;">else</span>
    printf <span style="color: #98be65;">"Restoration successful, backup directory may be deleted.\n"</span>
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgecede76" class="outline-4">
<h4 id="orgecede76">Delete runcom</h4>
<div class="outline-text-4" id="text-orgecede76">
<p>
Goodbye
</p>

<div class="org-src-container">
<pre class="src src-sh">rm -rf <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}"</span> &amp;&amp; printf <span style="color: #98be65;">"Goodbye &#9995;"</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd0d5b52" class="outline-2">
<h2 id="orgd0d5b52">Personalization</h2>
<div class="outline-text-2" id="text-orgd0d5b52">
</div>
<div id="outline-container-org67103d2" class="outline-3">
<h3 id="org67103d2">Local</h3>
<div class="outline-text-3" id="text-org67103d2">
<p>
Create a directory at the location  <code>${XDG_CONFIG_HOME:-${HOME}/.config}/local.d</code>.
</p>
<ul class="org-ul">
<li>All files that match the glob <code>${XDG_CONFIG_HOME:-${HOME}/.config}/local.d/.*rc</code> are sourced.</li>
<li><p>
Do not synchronize this directory. This directory is only for the machine.
</p>
<div class="org-src-container">
<pre class="src src-sh">mkdir -p <span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/local.d"</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-orgd7c677b" class="outline-3">
<h3 id="orgd7c677b">Synchronized</h3>
<div class="outline-text-3" id="text-orgd7c677b">
<p>
Create a directory at the location <code>${XDG_CONFIG_HOME:-${HOME}/.config}/pvt.d</code>.
</p>
<div class="org-src-container">
<pre class="src src-sh">mkdir -p <span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/pvt.d"</span>
</pre>
</div>

<ul class="org-ul">
<li>All files that match the glob <code>${XDG_CONFIG_HOME:-${HOME}/.config}/pvt.d/.*rc</code> are sourced.</li>
<li><p>
Synchronize (stow) that directory using a local repository or by simply copying contents.
</p>
<div class="danger" id="org94e9a84">
<ul class="org-ul">
<li><b>DO NOT</b> create this directory inside <code>${RUNCOMDIR}:-${HOME}/.runcom}/.config</code>.</li>
<li><b>DO NOT</b> synchronize this directory using a public repository.</li>
<li><b>DO NOT</b> store passwords in this directory. For password management, use <a href="https://passwordstore.org">pass</a></li>
</ul>

</div></li>
</ul>


<div class="tip" id="org31e2d0d">
<ul class="org-ul">
<li><p>
Remember to keep the repository updated.
</p>

<div class="org-src-container">
<pre class="src src-sh">git pull --recurse-submodules
</pre>
</div></li>
</ul>

</div>
</div>
</div>

<div id="outline-container-orga2f4819" class="outline-3">
<h3 id="orga2f4819">Proxy settings</h3>
<div class="outline-text-3" id="text-orga2f4819">
<p>
Read set up for <a href="./proxy_send.html">proxy_send</a>.
</p>

<p>
<b><span class="underline">SETUP COMPLETE!</span> Following sections explain and tangle the contents of runcom.</b>
</p>
</div>
</div>
</div>
<div id="outline-container-orgab14357" class="outline-2">
<h2 id="orgab14357">Structure</h2>
<div class="outline-text-2" id="text-orgab14357">
<p>
Following configuration files are available. This literate configuration tangles their contents.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Configuration File Path</th>
<th scope="col" class="org-left">POSIX</th>
<th scope="col" class="org-left">Stowed</th>
<th scope="col" class="org-left">Owner</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">/etc/profile</td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">root</td>
</tr>

<tr>
<td class="org-left">/etc/bashrc</td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">root</td>
</tr>

<tr>
<td class="org-left">/etc/zshrc</td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">root</td>
</tr>

<tr>
<td class="org-left">/etc/profile.d/*</td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">root</td>
</tr>

<tr>
<td class="org-left">${HOME}/.bashrc</td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${HOME}/.zshrc</td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${HOME}/.bash_profile</td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${HOME}/.bash_login</td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${HOME}/.profile</td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${HOME}/.zprofile</td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${HOME}/.zshenv</td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${HOME}/.zlogin</td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${RUNCOMDIR}/shrc</td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">RUNCOM</td>
</tr>

<tr>
<td class="org-left">${RUNCOMDIR}/ui</td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">RUNCOM</td>
</tr>

<tr>
<td class="org-left">${XDG_DATA_HOME}/bash-completion/completions/*</td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${XDG_CONFIG_DIR}</td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${XDG_CONFIG_HOME}/local.d/.*rc</td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">${USER}</td>
</tr>

<tr>
<td class="org-left">${XDG_CONFIG_HOME}/pvt.d/.*rc</td>
<td class="org-left">yes</td>
<td class="org-left">pvt</td>
<td class="org-left">${USER}</td>
</tr>
</tbody>
</table>
<p>
They are loaded in following order.
</p>
</div>

<div id="outline-container-orgccf2beb" class="outline-3">
<h3 id="orgccf2beb">Bash</h3>
<div class="outline-text-3" id="text-orgccf2beb">
</div>
<div id="outline-container-orgb9061b5" class="outline-4">
<h4 id="orgb9061b5">/etc/profile</h4>
<div class="outline-text-4" id="text-orgb9061b5">
</div>
<ul class="org-ul">
<li><a id="org4dc621d"></a>/etc/bashrc<br />
<ul class="org-ul">
<li><a id="org71110fd"></a>/etc/profile.d/*<br /></li>
</ul>
</li>
</ul>
</div>

<div id="outline-container-orge5f749e" class="outline-4">
<h4 id="orge5f749e">${HOME}/.bash_profile</h4>
<div class="outline-text-4" id="text-orge5f749e">
</div>
<ul class="org-ul">
<li><a id="org21d3272"></a>${HOME}/.profile<br /></li>

<li><a id="org2f271b9"></a>${HOME}/.bashrc<br />
<ul class="org-ul">
<li><a id="orgd396db2"></a>${RUNCOMDIR}/shrc<br />
<ul class="org-ul">
<li><a id="org01d2980"></a>${XDG_CONFIG_HOME}/local.d/*<br /></li>
<li><a id="org972ef11"></a>${XDG_CONFIG_HOME}/pvt.d/*<br /></li>
</ul>
</li>
</ul>
</li>

<li><a id="org00bbaad"></a>${HOME}/.bash_login<br />
<ul class="org-ul">
<li><a id="orgf8e5bfb"></a>${RUNCOMDIR}/ui<br /></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org8361670" class="outline-3">
<h3 id="org8361670">Zsh</h3>
<div class="outline-text-3" id="text-org8361670">
</div>
<div id="outline-container-org51d0159" class="outline-4">
<h4 id="org51d0159">/etc/profile</h4>
<div class="outline-text-4" id="text-org51d0159">
</div>
<ul class="org-ul">
<li><a id="org1d4d89d"></a>/etc/zshrc<br />
<ul class="org-ul">
<li><a id="org238e8db"></a>/etc/profile.d/*<br /></li>
</ul>
</li>
</ul>
</div>

<div id="outline-container-orgac1db8b" class="outline-4">
<h4 id="orgac1db8b">${HOME}/.zshenv</h4>
</div>

<div id="outline-container-org0fb089f" class="outline-4">
<h4 id="org0fb089f">${HOME}/.zprofile</h4>
<div class="outline-text-4" id="text-org0fb089f">
</div>
<ul class="org-ul">
<li><a id="orgb75c75b"></a>${HOME}/.profile<br /></li>
</ul>
</div>

<div id="outline-container-org7fe6157" class="outline-4">
<h4 id="org7fe6157">${HOME}/.zshrc</h4>
<div class="outline-text-4" id="text-org7fe6157">
</div>
<ul class="org-ul">
<li><a id="org27b61e1"></a>${RUNCOMDIR}/shrc<br />
<ul class="org-ul">
<li><a id="org81c6405"></a>${XDG_CONFIG_HOME}/local.d/*<br /></li>
<li><a id="orge04d697"></a>${XDG_CONFIG_HOME}/pvt.d/*<br /></li>
</ul>
</li>
</ul>
</div>

<div id="outline-container-org6c9dbf1" class="outline-4">
<h4 id="org6c9dbf1">${HOME}/.zlogin</h4>
<div class="outline-text-4" id="text-org6c9dbf1">
</div>
<ul class="org-ul">
<li><a id="orgc4b03ae"></a>${RUNCOMDIR}/ui<br /></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgac3e82a" class="outline-2">
<h2 id="orgac3e82a">Headers</h2>
<div class="outline-text-2" id="text-orgac3e82a">
<p>
Copyright, License banners
</p>
</div>
</div>
<div id="outline-container-orga8e816e" class="outline-2">
<h2 id="orga8e816e">Profiles</h2>
<div class="outline-text-2" id="text-orga8e816e">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${HOME}/.profile"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1091</span>
    . <span style="color: #98be65;">"${HOME}/.profile"</span>
<span style="color: #51afef;">fi</span>

<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${HOME}/.bashrc"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1091</span>
    . <span style="color: #98be65;">"${HOME}/.bashrc"</span>
<span style="color: #51afef;">fi</span>

<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${HOME}/.bash_login"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1091</span>
    . <span style="color: #98be65;">"${HOME}/.bash_login"</span>
<span style="color: #51afef;">fi</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=".profile"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${HOME}"</span>/.profile <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1091</span>
    . <span style="color: #98be65;">"${HOME}"</span>/.profile
<span style="color: #51afef;">fi</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">The following lines were added by compinstall</span>

zstyle <span style="color: #98be65;">':completion:*'</span> completer _complete _ignored _approximate
zstyle <span style="color: #98be65;">':completion:*'</span> list-colors <span style="color: #98be65;">''</span>
zstyle <span style="color: #98be65;">':completion:*'</span> matcher-list <span style="color: #98be65;">''</span>
zstyle <span style="color: #98be65;">':completion:*'</span> max-errors <span style="color: #da8548; font-weight: bold;">2</span>
zstyle <span style="color: #98be65;">':completion:*'</span> menu <span style="color: #ffffaf;">select</span>=<span style="color: #da8548; font-weight: bold;">3</span>
zstyle <span style="color: #98be65;">':completion:*'</span> select-prompt %SScrolling <span style="color: #98be65;">\</span>
       active: current selection at %p%s
zstyle :compinstall filename <span style="color: #98be65;">"${HOME}/.zshrc"</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">End of lines added by compinstall</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Lines configured by zsh-newuser-install</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org4d328fd" class="outline-2">
<h2 id="org4d328fd">Init</h2>
<div class="outline-text-2" id="text-org4d328fd">
</div>
<div id="outline-container-org487cc11" class="outline-3">
<h3 id="org487cc11">bash</h3>
<div class="outline-text-3" id="text-org487cc11">
<ul class="org-ul">
<li>Prevent bashrc from running outside non-interactive mode</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef;">case</span> $<span style="color: #ffffaf;">-</span><span style="color: #51afef;"> in</span>
    *i*)
    ;;
    *)
        <span style="color: #51afef;">return</span>
        ;;
<span style="color: #51afef;">esac</span>
</pre>
</div>

<ul class="org-ul">
<li>Option settings</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">shopt -s autocd
shopt -s checkwinsize
shopt -s globstar
</pre>
</div>

<ul class="org-ul">
<li>History</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">shopt -s histappend
<span style="color: #ffffaf;">HISTCONTROL</span>=ignoreboth
<span style="color: #ffffaf;">HISTSIZE</span>=<span style="color: #da8548; font-weight: bold;">10000</span>
<span style="color: #ffffaf;">HISTFILESIZE</span>=<span style="color: #da8548; font-weight: bold;">10000</span>
</pre>
</div>

<ul class="org-ul">
<li>Colored terminals</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef;">case</span> <span style="color: #98be65;">"$TERM"</span><span style="color: #51afef;"> in</span>
    xterm-color|*-256color) <span style="color: #ffffaf;">color_prompt</span>=yes;;
<span style="color: #51afef;">esac</span>
</pre>
</div>

<ul class="org-ul">
<li>Keybindings</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #d76f10;">set</span> -o vi
bind <span style="color: #98be65;">'"jk":vi-movement-mode'</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7e0b67e" class="outline-3">
<h3 id="org7e0b67e">zsh</h3>
<div class="outline-text-3" id="text-org7e0b67e">
<p>
Settings
</p>
<ul class="org-ul">
<li>History</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #ffffaf;">HISTFILE</span>=<span style="color: #98be65;">"${XDG_CACHE_HOME:-${HOME}/.cache}/.zhistory"</span>
<span style="color: #ffffaf;">HISTSIZE</span>=<span style="color: #da8548; font-weight: bold;">10000</span>
<span style="color: #ffffaf;">SAVEHIST</span>=<span style="color: #da8548; font-weight: bold;">10000</span>
</pre>
</div>

<ul class="org-ul">
<li><p>
Options
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #ffffaf;">ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE</span>=<span style="color: #98be65;">"fg=</span><span style="color: #ffffff; background-color: #5f6f7f;">#5f6f7f</span><span style="color: #98be65;">,bg=</span><span style="color: #ffffff; background-color: #172737;">#172737</span><span style="color: #98be65;">"</span>
<span style="color: #ffffaf;">ZSH_AUTOSUGGEST_STRATEGY</span>=<span style="color: #51afef;">(</span><span style="color: #98be65;">"history"</span> <span style="color: #98be65;">"completion"</span><span style="color: #51afef;">)</span>
<span style="color: #d76f10;">setopt</span> autocd
<span style="color: #d76f10;">setopt</span> interactive_comments
<span style="color: #d76f10;">setopt</span> appendhistory extendedglob notify
<span style="color: #d76f10;">setopt</span> BANG_HIST                 <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Treat the '!' character specially during expansion.</span>
<span style="color: #d76f10;">setopt</span> EXTENDED_HISTORY          <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Write the history file in the ":start:elapsed;command" format.</span>
<span style="color: #d76f10;">setopt</span> INC_APPEND_HISTORY        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Write to the history file immediately, not when the shell exits.</span>
<span style="color: #d76f10;">setopt</span> HIST_EXPIRE_DUPS_FIRST    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Expire duplicate entries first when trimming history.</span>
<span style="color: #d76f10;">setopt</span> HIST_IGNORE_DUPS          <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Don't record an entry that was just recorded again.</span>
<span style="color: #d76f10;">setopt</span> HIST_IGNORE_ALL_DUPS      <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Delete old recorded entry if new entry is a duplicate.</span>
<span style="color: #d76f10;">setopt</span> HIST_FIND_NO_DUPS         <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Do not display a line previously found.</span>
<span style="color: #d76f10;">setopt</span> HIST_SAVE_NO_DUPS         <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Don't write duplicate entries in the history file.</span>
<span style="color: #d76f10;">setopt</span> HIST_IGNORE_SPACE         <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Don't record an entry starting with a space.</span>
<span style="color: #d76f10;">setopt</span> HIST_REDUCE_BLANKS        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Remove superfluous blanks before recording entry.</span>
<span style="color: #d76f10;">setopt</span> HIST_VERIFY               <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Don't execute immediately upon history expansion.</span>
<span style="color: #d76f10;">unsetopt</span> beep
<span style="color: #d76f10;">autoload</span> colors &amp;&amp; colors
<span style="color: #d76f10;">autoload</span> add-zsh-hook
<span style="color: #d76f10;">autoload</span> -Uz compinit
<span style="color: #d76f10;">autoload</span> -Uz bashcompinit
compinit
bashcompinit
</pre>
</div></li>

<li><p>
Keybindings
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #ffffaf;">term_key_source</span>=<span style="color: #98be65;">"${HOME}/.zkbd/$TERM-${${DISPLAY:t}:-$VENDOR-$OSTYPE}"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${term_key_source}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #d76f10;">source</span> <span style="color: #98be65;">"${term_key_source}"</span>
<span style="color: #51afef;">fi</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">keybindings</span>
<span style="color: #d76f10;">bindkey</span> -v
<span style="color: #d76f10;">bindkey</span> -s <span style="color: #98be65;">'^o'</span> <span style="color: #98be65;">'lfcd\n'</span>
<span style="color: #d76f10;">bindkey</span> -s <span style="color: #98be65;">'^f'</span> <span style="color: #98be65;">'fzfcd\n'</span>
<span style="color: #d76f10;">bindkey</span> -s <span style="color: #98be65;">'^E'</span> <span style="color: #98be65;">'deactivate 2&gt;/dev/null || true\n'</span>
<span style="color: #d76f10;">bindkey</span> -s <span style="color: #98be65;">'^N'</span> <span style="color: #98be65;">'force_global_venv\n'</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[P'</span> delete-char  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">backspace key</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[1;5D'</span> vi-backward-word  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">ctrl &lt;-</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[1;5C'</span> vi-forward-word  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">ctrl -&gt;</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[3~'</span> vi-delete-char  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">delete key</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[F'</span> vi-end-of-line  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">end key</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[H'</span> vi-beginning-of-line  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">home key</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">"^[[27;2;13~"</span> vi-open-line-below  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shift Return</span>
<span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">KEYTIMEOUT</span>=<span style="color: #da8548; font-weight: bold;">10</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Use beam shape cursor for each new prompt.</span>
<span style="color: #9f5f9f; font-weight: bold;">_fix_cursor</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #d76f10;">echo</span> -ne <span style="color: #98be65;">'\e[6 q'</span>
<span style="color: #51afef;">}</span>
add-zsh-hook precmd _fix_cursor

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Change cursor shape for different vi modes.</span>
<span style="color: #9f5f9f; font-weight: bold;">zle-keymap-select</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">"vicmd"</span> <span style="color: #c678dd;">]</span> ||
           <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${1}"</span> = <span style="color: #98be65;">'block'</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">'\e[2 q'</span>

    <span style="color: #51afef;">elif</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">"main"</span> <span style="color: #c678dd;">]</span> ||
             <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">"viins"</span> <span style="color: #c678dd;">]</span> ||
             <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">''</span> <span style="color: #c678dd;">]</span> ||
             <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${1}"</span> = <span style="color: #98be65;">'beam'</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">'\e[6 q'</span>
    <span style="color: #51afef;">elif</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">"visual"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">'\e[4 q'</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Use vim keys in tab complete menu:</span>
zmodload zsh/complist
zmodload zsh/mapfile
<span style="color: #d76f10;">bindkey</span> -M menuselect <span style="color: #98be65;">'h'</span> vi-backward-char
<span style="color: #d76f10;">bindkey</span> -M menuselect <span style="color: #98be65;">'k'</span> vi-up-line-or-history
<span style="color: #d76f10;">bindkey</span> -M menuselect <span style="color: #98be65;">'l'</span> vi-forward-char
<span style="color: #d76f10;">bindkey</span> -M menuselect <span style="color: #98be65;">'j'</span> vi-down-line-or-history
<span style="color: #d76f10;">bindkey</span> -v <span style="color: #98be65;">'^?'</span> backward-delete-char
<span style="color: #d76f10;">bindkey</span> -M viins <span style="color: #98be65;">'jk'</span> vi-cmd-mode
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^r'</span> history-incremental-search-backward

zle -N zle-keymap-select

</pre>
</div></li>
<li>Unset options:
<ul class="org-ul">
<li>setopt SHARE_HISTORY             # Share history between all sessions.</li>
<li>setopt HIST_BEEP                 # Beep when accessing nonexistent history.</li>
<li>HISTCONTROL=ignoreboth           # ignore commands staring with " " and duplicate</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgf8886a6" class="outline-2">
<h2 id="orgf8886a6">Inherit</h2>
<div class="outline-text-2" id="text-orgf8886a6">
</div>
<div id="outline-container-orge20f278" class="outline-3">
<h3 id="orge20f278">bash</h3>
<div class="outline-text-3" id="text-orge20f278">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=".runcom/shrc"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/shrc"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/shrc"</span>
<span style="color: #51afef;">fi</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bash-preexec/bash-preexec.sh"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bash-preexec/bash-preexec.sh"</span>
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgac98433" class="outline-3">
<h3 id="orgac98433">zsh</h3>
<div class="outline-text-3" id="text-orgac98433">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=".runcom/shrc"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/shrc"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/shrc"</span>
<span style="color: #51afef;">fi</span>
<span style="color: #51afef;">while </span><span style="color: #d76f10;">read</span> -r addition; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">while </span><span style="color: #d76f10;">read</span> -r share_dir; <span style="color: #51afef;">do</span>
        <span style="color: #ffffaf;">add_dir</span>=<span style="color: #98be65;">"${share_dir}/zsh-${addition}"</span>
        <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${add_dir}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1090</span>
            . <span style="color: #98be65;">"${add_dir}/zsh-${addition}.zsh"</span>
            <span style="color: #51afef;">break</span>
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">done</span> &lt;&lt; data_dir
<span style="color: #98be65;">/usr/local/share</span>
<span style="color: #98be65;">/usr/share</span>
<span style="color: #98be65;">${XDG_DATA_HOME:-${HOME}/.local/share}</span>
<span style="color: #98be65;">${XDG_DATA_HOME:-${HOME}/.local/share}/pspman/local/share</span>
<span style="color: #98be65;">${HOME}/local/share</span>
<span style="color: #98be65;">${HOME}/share</span>
<span style="color: #98be65;">data_dir</span>
<span style="color: #51afef;">done</span> &lt;&lt; addlist
<span style="color: #98be65;">syntax-highlighting</span>
<span style="color: #98be65;">autosuggestions</span>
<span style="color: #98be65;">addlist</span>

<span style="color: #d76f10;">unset</span> addition
<span style="color: #d76f10;">unset</span> share_dir
<span style="color: #d76f10;">unset</span> add_dir

</pre>
</div>
</div>
</div>

<div id="outline-container-org684650f" class="outline-3">
<h3 id="org684650f">shrc</h3>
<div class="outline-text-3" id="text-org684650f">
</div>
<div id="outline-container-org58c2774" class="outline-4">
<h4 id="org58c2774">Private synced changes</h4>
<div class="outline-text-4" id="text-org58c2774">
<p>
All files <code>${XDG_CONFIG_HOME:-${HOME}/.config}/pvt.d/.*rc</code>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1090</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/pvt.d"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #51afef;">for</span> pvt_src<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/pvt.d"</span>/.*rc; <span style="color: #51afef;">do</span>
        . <span style="color: #98be65;">"${pvt_src}"</span>
    <span style="color: #51afef;">done</span>
<span style="color: #51afef;">fi</span>
<span style="color: #d76f10;">unset</span> pvt_src
</pre>
</div>
</div>
</div>

<div id="outline-container-org53be787" class="outline-4">
<h4 id="org53be787">Local unsynced changes</h4>
<div class="outline-text-4" id="text-org53be787">
<p>
All files <code>${XDG_CONFIG_HOME:-${HOME}/.config}/local.d/.*rc</code>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1090</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/local.d"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #51afef;">for</span> local_src<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/local.d"</span>/.*rc; <span style="color: #51afef;">do</span>
        . <span style="color: #98be65;">"${local_src}"</span>
    <span style="color: #51afef;">done</span>
<span style="color: #51afef;">fi</span>
<span style="color: #d76f10;">unset</span> local_src
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org25fa41b" class="outline-2">
<h2 id="org25fa41b">Better alternatives</h2>
<div class="outline-text-2" id="text-org25fa41b">
</div>
<div id="outline-container-orgab719bb" class="outline-3">
<h3 id="orgab719bb">cat</h3>
<div class="outline-text-3" id="text-orgab719bb">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">'bat'</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">cat</span>=<span style="color: #98be65;">"bat --color=auto"</span>;
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1bce78" class="outline-3">
<h3 id="orgf1bce78">g/re/p</h3>
<div class="outline-text-3" id="text-orgf1bce78">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">for</span> sc<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"ack"</span> <span style="color: #98be65;">"pt"</span> <span style="color: #98be65;">"ag"</span> <span style="color: #98be65;">"rg"</span>; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"${sc%% *}"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2139</span>
        <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">grep</span>=<span style="color: #98be65;">"${sc} --color=auto"</span>;
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">done</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4bac9e" class="outline-3">
<h3 id="orgd4bac9e">List Contents</h3>
<div class="outline-text-3" id="text-orgd4bac9e">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"exa"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">ls</span>=<span style="color: #98be65;">"exa -Fh --color=auto"</span>;
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">la</span>=<span style="color: #98be65;">'exa -a --color=auto'</span>;
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">ll</span>=<span style="color: #98be65;">'exa -lr -s size'</span>;
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">lla</span>=<span style="color: #98be65;">'exa -a'</span>;
    <span style="color: #d76f10;">alias</span> l.=<span style="color: #98be65;">'exa -a --color=auto |grep "^\."'</span>;
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">sl</span>=<span style="color: #98be65;">"ls"</span>;
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f1791c" class="outline-3">
<h3 id="org3f1791c">neo visual editor improved</h3>
<div class="outline-text-3" id="text-org3f1791c">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v nvim &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">ex</span>=<span style="color: #98be65;">"nvim"</span>; <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">always open vim in normal mode</span>
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">vim</span>=<span style="color: #98be65;">"nvim"</span>; <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">always use neo</span>
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcfc523c" class="outline-3">
<h3 id="orgcfc523c">Container</h3>
<div class="outline-text-3" id="text-orgcfc523c">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v podman &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
    <span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">docker</span>=<span style="color: #98be65;">"podman"</span>;  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Podman is drop-in replacement for docker</span>
    <span style="color: #d76f10;">alias</span> docker-compose=<span style="color: #98be65;">"podman-compose"</span>;  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Podman is drop-in replacement for docker</span>
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0bfec8c" class="outline-2">
<h2 id="org0bfec8c">Variables</h2>
<div class="outline-text-2" id="text-org0bfec8c">
</div>
<div id="outline-container-org045649d" class="outline-3">
<h3 id="org045649d">XDG</h3>
<div class="outline-text-3" id="text-org045649d">
<p>
XDG standard locations specifications these can be redefined in
<code>${XDG_CONFIG_HOME:-${HOME}/.config}/pvt.d/.&lt;some name&gt;rc</code>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">XDG_CACHE_HOME</span>=<span style="color: #98be65;">"${HOME}/.cache"</span>
<span style="color: #ffffaf;">XDG_CONFIG_HOME</span>=<span style="color: #98be65;">"${HOME}/.config"</span>
<span style="color: #ffffaf;">XDG_DATA_HOME</span>=<span style="color: #98be65;">"${HOME}/.local/share"</span>
<span style="color: #ffffaf;">XDG_STATE_HOME</span>=<span style="color: #98be65;">"${HOME}/.local/state"</span>
<span style="color: #ffffaf;">RUNCOMDIR</span>=<span style="color: #98be65;">"${HOME}/.runcom"</span>

<span style="color: #d76f10;">export</span> XDG_CACHE_HOME
<span style="color: #d76f10;">export</span> XDG_CONFIG_HOME
<span style="color: #d76f10;">export</span> XDG_DATA_HOME
<span style="color: #d76f10;">export</span> XDG_STATE_HOME
<span style="color: #d76f10;">export</span> RUNCOMDIR
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d31b83" class="outline-3">
<h3 id="org1d31b83">PATH</h3>
<div class="outline-text-3" id="text-org1d31b83">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source="bin"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${HOME}/bin"</span> <span style="color: #51afef;">]</span> ; <span style="color: #51afef;">then</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> <span style="color: #98be65;">"${PATH#*${HOME}/bin}"</span> = <span style="color: #98be65;">"${PATH}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">PATH</span>=<span style="color: #98be65;">"${HOME}/bin:${PATH}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">fi</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=".local/bin"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${HOME}/.local/bin"</span> <span style="color: #51afef;">]</span> ; <span style="color: #51afef;">then</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> <span style="color: #98be65;">"${PATH#*${HOME}/.local/bin}"</span> = <span style="color: #98be65;">"${PATH}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">PATH</span>=<span style="color: #98be65;">"${HOME}/.local/bin:${PATH}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">fi</span>
<span style="color: #d76f10;">export</span> PATH;
</pre>
</div>
</div>
</div>

<div id="outline-container-org99a97ab" class="outline-3">
<h3 id="org99a97ab">Editor wars</h3>
<div class="outline-text-3" id="text-org99a97ab">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">while </span><span style="color: #d76f10;">read</span> -r avail; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"${avail}"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">EDITOR</span>=<span style="color: #98be65;">"${avail}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">done</span> &lt;&lt; EOF
<span style="color: #98be65;">nano</span>
<span style="color: #98be65;">vi</span>
<span style="color: #98be65;">vim</span>
<span style="color: #98be65;">nvim</span>
<span style="color: #98be65;">EOF</span>
<span style="color: #d76f10;">export</span> EDITOR

<span style="color: #51afef;">case</span> <span style="color: #98be65;">"$EDITOR"</span><span style="color: #51afef;"> in</span>
    vim)
        <span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">MANPAGER</span>=<span style="color: #98be65;">'/bin/bash -c "vim -MRn -c \"set buftype=nofile showtabline=0 ft=man ts=8 nomod nolist norelativenumber nonu noma\" -c \"normal L\" -c \"nmap q :qa&lt;CR&gt;\"&lt;/dev/tty &lt;(col -b)"'</span>
        ;;
    nvim)
        <span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">MANPAGER</span>=<span style="color: #98be65;">"nvim -c ':Man!' -"</span>
        ;;
    *)
        <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v bat; <span style="color: #51afef;">then</span>
            <span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">MANPAGER</span>=<span style="color: #98be65;">'bat -l man -p'</span>
        <span style="color: #51afef;">fi</span>
        ;;
<span style="color: #51afef;">esac</span>
<span style="color: #d76f10;">export</span> MANPAGER
</pre>
</div>
</div>
</div>

<div id="outline-container-orga834378" class="outline-3">
<h3 id="orga834378">C(++) exports</h3>
<div class="outline-text-3" id="text-orga834378">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">LD_LIBRARY_PATH</span>=<span style="color: #98be65;">"${HOME}/.local/lib:${HOME}/.local/lib64"</span>;
<span style="color: #ffffaf;">C_INCLUDE_PATH</span>=<span style="color: #98be65;">"${HOME}/.local/share/pspman/include/"</span>
<span style="color: #ffffaf;">CPLUS_INCLUDE_PATH</span>=<span style="color: #98be65;">"${HOME}/.local/share/pspman/include/"</span>
<span style="color: #d76f10;">export</span> LD_LIBRARY_PATH
<span style="color: #d76f10;">export</span> C_INCLUDE_PATH
<span style="color: #d76f10;">export</span> CPLUS_INCLUDE_PATH
</pre>
</div>
</div>
</div>

<div id="outline-container-org17e85a0" class="outline-3">
<h3 id="org17e85a0">GPU exports</h3>
<div class="outline-text-3" id="text-org17e85a0">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">PYOPENCL_CTX</span>=<span style="color: #98be65;">'0'</span>;
<span style="color: #ffffaf;">PYOPENCL_COMPILER_OUTPUT</span>=<span style="color: #da8548; font-weight: bold;">1</span>;
<span style="color: #ffffaf;">OCL_ICD_VENDORS</span>=<span style="color: #98be65;">"/etc/OpenCL/vendors/"</span>;
<span style="color: #d76f10;">export</span> PYOPENCL_CTX
<span style="color: #d76f10;">export</span> PYOPENCL_COMPILER_OUTPUT
<span style="color: #d76f10;">export</span> OCL_ICD_VENDORS
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd254c00" class="outline-3">
<h3 id="orgd254c00">Bemenu exports</h3>
<div class="outline-text-3" id="text-orgd254c00">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">BEMENU_OPTS</span>=<span style="color: #98be65;">'--fn firacode 14 '</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org994c2dc" class="outline-3">
<h3 id="org994c2dc">GTK+ debugging output</h3>
<div class="outline-text-3" id="text-org994c2dc">
<p>
Silence debugging output for gtk+
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">NO_AT_BRIDGE</span>=<span style="color: #da8548; font-weight: bold;">1</span>
<span style="color: #d76f10;">export</span> NO_AT_BRIDGE
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgafa8372" class="outline-2">
<h2 id="orgafa8372">Functions</h2>
<div class="outline-text-2" id="text-orgafa8372">
</div>
<div id="outline-container-org39f8eb0" class="outline-3">
<h3 id="org39f8eb0">Python</h3>
<div class="outline-text-3" id="text-org39f8eb0">
</div>
<div id="outline-container-org1b3a1f4" class="outline-4">
<h4 id="org1b3a1f4">Python version</h4>
<div class="outline-text-4" id="text-org1b3a1f4">
<p>
to locate site-packages
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">python_ver</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    python --version |cut -d <span style="color: #98be65;">"."</span> -f1,2 |sed <span style="color: #98be65;">'s/ //'</span> |sed <span style="color: #98be65;">'s/P/p/'</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0502adf" class="outline-4">
<h4 id="org0502adf">Quickly change to virtualenv</h4>
<div class="outline-text-4" id="text-org0502adf">
<p>
Scan upto mountpoint, if any direct parent has .venv, source that ".venv/bin/activate"
This may require shell-identification for ksh, csh, fish since they have a different activate
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">to_venv</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">test_d</span>=<span style="color: #98be65;">"$(realpath "${PWD}")"</span>
    <span style="color: #ffffaf;">parents</span>=<span style="color: #da8548; font-weight: bold;">16</span>  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">path too long to waste time</span>
    <span style="color: #51afef;">until</span> mountpoint <span style="color: #98be65;">"${test_d}"</span> &gt; /dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt; /dev/null; <span style="color: #51afef;">do</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> $<span style="color: #ffffaf;">parents</span> -le <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            printf <span style="color: #98be65;">"Too many branch-nodes searched"</span> &gt;&amp;<span style="color: #da8548; font-weight: bold;">2</span>
            <span style="color: #d76f10;">unset</span> parents
            <span style="color: #d76f10;">unset</span> test_d
            <span style="color: #d76f10;">unset</span> env_d
            <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">126</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">for</span> env_d<span style="color: #51afef;"> in</span> <span style="color: #98be65;">".venv"</span> <span style="color: #98be65;">"venv"</span>; <span style="color: #51afef;">do</span>
            <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -d <span style="color: #98be65;">"${test_d}/${env_d}"</span> <span style="color: #c678dd;">]</span> <span style="color: #98be65;">\</span>
                   || <span style="color: #c678dd;">[</span> -L <span style="color: #98be65;">"${test_d}/${env_d}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1090</span>
                . <span style="color: #98be65;">"${test_d}/${env_d}/bin/activate"</span>
                printf <span style="color: #98be65;">"Found %s, switching...\n"</span> <span style="color: #98be65;">"${test_d}/${env_d}"</span>
                <span style="color: #d76f10;">unset</span> parents
                <span style="color: #d76f10;">unset</span> test_d
                <span style="color: #d76f10;">unset</span> env_d
                <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
            <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">done</span>
        <span style="color: #ffffaf;">test_d</span>=<span style="color: #98be65;">"$(dirname "${test_d}")"</span>
        <span style="color: #ffffaf;">parents</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>parents - <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">done</span>
    printf <span style="color: #98be65;">"Couldn't find .venv upto mountpoint %s\n"</span> <span style="color: #98be65;">"${test_d}"</span> &gt;&amp;<span style="color: #da8548; font-weight: bold;">2</span>
    <span style="color: #d76f10;">unset</span> parents
    <span style="color: #d76f10;">unset</span> test_d
    <span style="color: #d76f10;">unset</span> env_d
    <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">126</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda73e11" class="outline-4">
<h4 id="orgda73e11">Virtualenv in prompt string</h4>
<div class="outline-text-4" id="text-orgda73e11">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">_show_venv</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">if a virtualenv is active, print it's name</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"${VIRTUAL_ENV}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">base</span>=<span style="color: #98be65;">"$(basename "${VIRTUAL_ENV}")"</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${base}"</span> = <span style="color: #98be65;">".venv"</span> <span style="color: #c678dd;">]</span> || <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${base}"</span> = <span style="color: #98be65;">"venv"</span>  <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            printf <span style="color: #98be65;">"/%s"</span> <span style="color: #98be65;">"$(basename "$(dirname "${VIRTUAL_ENV}")")"</span>
            <span style="color: #d76f10;">unset</span> base
        <span style="color: #51afef;">else</span>
            printf <span style="color: #98be65;">"/%s"</span> <span style="color: #98be65;">"${base}"</span>
            <span style="color: #d76f10;">unset</span> base
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orged2fd7f" class="outline-3">
<h3 id="orged2fd7f">Git</h3>
<div class="outline-text-3" id="text-orged2fd7f">
</div>
<div id="outline-container-org0e2160c" class="outline-4">
<h4 id="org0e2160c">Status</h4>
<div class="outline-text-4" id="text-org0e2160c">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">git_status</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_modified</span>=<span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #ffffaf;">_cached</span>=<span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #ffffaf;">_untracked</span>=<span style="color: #da8548; font-weight: bold;">0</span>

    <span style="color: #51afef;">while </span><span style="color: #d76f10;">read</span> -r _line; <span style="color: #51afef;">do</span>
        <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${_line}"</span><span style="color: #51afef;"> in</span>
            _*_<span style="color: #98be65;">\ </span>_)
                <span style="color: #ffffaf;">_cached</span>=<span style="color: #da8548; font-weight: bold;">1</span>
                ;;
            _<span style="color: #98be65;">\ </span>_*_)
                <span style="color: #ffffaf;">_modified</span>=<span style="color: #da8548; font-weight: bold;">1</span>
                ;;
            _?_?_)
                <span style="color: #ffffaf;">_untracked</span>=<span style="color: #da8548; font-weight: bold;">1</span>
                ;;
        <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">done</span> &lt;&lt; endstat
<span style="color: #98be65;">$(git status --short | cut -b -2 | sed -e 's/\(.\)\(.*\)/_\1_\2_/')</span>
<span style="color: #98be65;">endstat</span>

    <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">''</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_modified"</span> -ne <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">"${_stat_str}</span><span style="color: #ffffff; background-color: #A93F43;">\033[0;31m</span><span style="color: #98be65;">\ue728"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_cached"</span> -ne <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">"${_stat_str}</span><span style="color: #000000; background-color: #59963A;">\033[0;32m</span><span style="color: #98be65;">\ue729"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_untracked"</span> -ne <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">"${_stat_str}</span><span style="color: #ffffff; background-color: #A93F43;">\033[0;31m</span><span style="color: #98be65;">\uf476"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"$(git stash list)"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">"${_stat_str}</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">\uf48e"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"${_stat_str}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2059  # I do want escape characters</span>
        printf <span style="color: #98be65;">"${_stat_str}\e[m"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> _modified
    <span style="color: #d76f10;">unset</span> _cached
    <span style="color: #d76f10;">unset</span> _untracked
    <span style="color: #d76f10;">unset</span> _stat_str
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge2a3b2c" class="outline-4">
<h4 id="orge2a3b2c">Branch</h4>
<div class="outline-text-4" id="text-orge2a3b2c">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">git_branch</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">branch</span>=<span style="color: #98be65;">"$(git branch 2&gt;/dev/null | grep '^\*' | sed -e 's/^* //')"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"${branch}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${branch}"</span><span style="color: #51afef;"> in</span>
            feat-*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #000000; background-color: #59963A;">\033[0;32m</span><span style="color: #98be65;">"</span>
                ;;
            bug-*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #ffffff; background-color: #A93F43;">\033[0;31m</span><span style="color: #98be65;">"</span>
                ;;
            act-*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">"</span>
                ;;
            tmp-*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">"</span>
                ;;
            *HEAD<span style="color: #98be65;">\ </span>detached*|,*rebasing*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #000000; background-color: #BE8A2D;">\e[0;33m</span><span style="color: #98be65;">"</span>
                ;;
            main|master)
                <span style="color: #d76f10;">unset</span> branch
                <span style="color: #d76f10;">unset</span> branch_str
                <span style="color: #51afef;">return</span>
                ;;
            *)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #ffffff; background-color: #7F60A7;">\e[0;35m</span><span style="color: #98be65;">"</span>
                ;;
        <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">fi</span>
    printf <span style="color: #98be65;">"${branch_str}%s\ue725\e[m"</span> <span style="color: #98be65;">"${branch}"</span>
    <span style="color: #d76f10;">unset</span> branch_str
    <span style="color: #d76f10;">unset</span> branch
<span style="color: #51afef;">}</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org77c00a6" class="outline-4">
<h4 id="org77c00a6">Hash</h4>
<div class="outline-text-4" id="text-org77c00a6">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">git_hash</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    git log --pretty=format:<span style="color: #98be65;">'%h'</span> -n <span style="color: #da8548; font-weight: bold;">1</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org73dbd7b" class="outline-4">
<h4 id="org73dbd7b">Prompt string</h4>
<div class="outline-text-4" id="text-org73dbd7b">
<p>
Include git's branch, hash, status in PS1 if in git repository
This function is called in PS1 section below
</p>
<div class="org-src-container">
<pre class="src src-sh" id="org0513900"><span style="color: #9f5f9f; font-weight: bold;">git_ps</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> git status --ignore-submodules &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">else</span>
        printf <span style="color: #98be65;">" %s%s%s "</span> <span style="color: #98be65;">"$(git_branch)"</span> <span style="color: #98be65;">"$(git_hash)"</span> <span style="color: #98be65;">"$(git_status)"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge6f080d" class="outline-3">
<h3 id="orge6f080d">Prompt String</h3>
<div class="outline-text-3" id="text-orge6f080d">
</div>
<div id="outline-container-orgc2432f1" class="outline-4">
<h4 id="orgc2432f1">Exit_color</h4>
<div class="outline-text-4" id="text-orgc2432f1">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">last_exit_color</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">case</span> <span style="color: #98be65;">"$1"</span><span style="color: #51afef;"> in</span>
        <span style="color: #da8548; font-weight: bold;">0</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">success</span>
            printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #59963A;">\e[0;32m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">1</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">general error</span>
            printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #BE8A2D;">\e[0;33m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">2</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">misuse of shell builtins</span>
            printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\e[0;31m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">126</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">cannot execute</span>
            printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #7E8A90;">\e[0;37m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">127</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">command not found</span>
            printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #192033;">\e[0;30m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">255</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">exit status limit</span>
            printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\e[0;31m</span><span style="color: #98be65;">"</span>
            ;;
        *)
            <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$1"</span> -gt <span style="color: #98be65;">"63"</span> <span style="color: #c678dd;">]</span> &amp;&amp; <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$1"</span> -lt <span style="color: #98be65;">"84"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">syserror.h</span>
                printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #EC6261;">\e[0;91m</span><span style="color: #98be65;">"</span>

            <span style="color: #51afef;">elif</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$1"</span> -gt <span style="color: #98be65;">"127"</span> <span style="color: #c678dd;">]</span> &amp;&amp; <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$1"</span> -lt <span style="color: #98be65;">"191"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Fatal error</span>
                printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\e[0;41m</span><span style="color: #98be65;">"</span>
            <span style="color: #51afef;">else</span>
                printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\e[0;31m</span><span style="color: #98be65;">"</span>
            <span style="color: #51afef;">fi</span>
            <span style="color: #d76f10;">unset</span> _err
            ;;
    <span style="color: #51afef;">esac</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org03eecaa" class="outline-4">
<h4 id="org03eecaa">Elapsed_time</h4>
<div class="outline-text-4" id="text-org03eecaa">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">_elapsed_time</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">$1 is start time $2 is end time</span>
    <span style="color: #ffffaf;">_cmd_start</span>=<span style="color: #98be65;">"$1"</span>
    <span style="color: #ffffaf;">_cmd_end</span>=<span style="color: #98be65;">"$2"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"$_cmd_end"</span> <span style="color: #c678dd;">]</span> || <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"$_cmd_start"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_sec</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> _cmd_end - _cmd_start <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #d76f10;">unset</span> _cmd_start
    <span style="color: #d76f10;">unset</span> _cmd_end
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_sec"</span> -le <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_sec"</span> -le <span style="color: #da8548; font-weight: bold;">60</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"%s"</span> <span style="color: #98be65;">"${_sec}"</span>
        <span style="color: #d76f10;">unset</span> _sec
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_min</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> _sec/60 <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #d76f10;">unset</span> _sec
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_min"</span> -le <span style="color: #da8548; font-weight: bold;">60</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"%sm"</span> <span style="color: #98be65;">"${_min}"</span>
        <span style="color: #d76f10;">unset</span> _min
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_hr</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> _min/60 <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #d76f10;">unset</span> _min
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_hr"</span> -le <span style="color: #da8548; font-weight: bold;">24</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"%sh"</span> <span style="color: #98be65;">"${_hr}"</span>
        <span style="color: #d76f10;">unset</span> _hr
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_day</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> _hr/24 <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #d76f10;">unset</span> _min
    printf <span style="color: #98be65;">"%sd"</span> <span style="color: #98be65;">"${_day}"</span>
    <span style="color: #d76f10;">unset</span> _day
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae6791a" class="outline-4">
<h4 id="orgae6791a">PROMPT_COMMAND</h4>
<div class="outline-text-4" id="text-orgae6791a">
</div>
<ul class="org-ul">
<li><a id="org4bf52bb"></a>bash<br />
<div class="outline-text-5" id="text-org4bf52bb">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export PROMPT_COMMAND=__prompt_command</span>

<span style="color: #9f5f9f; font-weight: bold;">preexec</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_cmd_start_t</span>=<span style="color: #98be65;">"${SECONDS}"</span>
<span style="color: #51afef;">}</span>

<span style="color: #9f5f9f; font-weight: bold;">precmd</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_exit_color</span>=<span style="color: #98be65;">"$(last_exit_color $?)"</span>

    <span style="color: #ffffaf;">_elapsed</span>=<span style="color: #98be65;">"$(_elapsed_time $_cmd_start_t ${SECONDS})"</span>
    <span style="color: #d76f10;">unset</span> _cmd_start_t

    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">unset previous</span>
    <span style="color: #ffffaf;">PS1</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">PS2</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">PS3</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">PS4</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">RPROMPT</span>=<span style="color: #98be65;">""</span>

    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[</span><span style="color: #000000; background-color: #59963A;">\e[0;32m</span><span style="color: #98be65;">\]\u\[\e[m\]"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[\e[3;35m\]\$(_show_venv)\[\e[m\]"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"@"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[</span><span style="color: #ffffff; background-color: #4068A3;">\e[0;34m</span><span style="color: #98be65;">\]\h\[\e[m\]"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\$(git_ps)"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">\]:\W"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[</span><span style="color: #000000; background-color: #7E8A90;">\e[0;37m</span><span style="color: #98be65;">\]"</span>

    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"$(date '+%H:%M:%S')"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">" ${_exit_color}-${_elapsed}"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">'\[\e[m\]\n&#187; '</span>

    <span style="color: #ffffaf;">PS2</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">PS2</span>+=<span style="color: #98be65;">"\[</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">\]cont..."</span>
    <span style="color: #ffffaf;">PS2</span>+=<span style="color: #98be65;">"\[\e[m\]"</span>
    <span style="color: #ffffaf;">PS2</span>+=<span style="color: #98be65;">"&#187; "</span>;

    <span style="color: #ffffaf;">PS3</span>=<span style="color: #98be65;">'Selection: '</span>;
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</li>

<li><a id="orgf073204"></a>zsh<br />
<div class="outline-text-5" id="text-orgf073204">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #9f5f9f; font-weight: bold;">_pspexec</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_cmd_start_t</span>=<span style="color: #98be65;">"${SECONDS}"</span>
<span style="color: #51afef;">}</span>

<span style="color: #9f5f9f; font-weight: bold;">_pspps</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_exit_color</span>=<span style="color: #98be65;">"$(last_exit_color $?)"</span>

    <span style="color: #ffffaf;">_elapsed</span>=<span style="color: #98be65;">"$(_elapsed_time $_cmd_start_t ${SECONDS})"</span>
    <span style="color: #d76f10;">unset</span> _cmd_start_t

    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">unset previous</span>
    <span style="color: #ffffaf;">PS1</span>=$<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">PS2</span>=$<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">PS3</span>=$<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">PS4</span>=$<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">RPROMPT</span>=$<span style="color: #98be65;">''</span>

    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #000000; background-color: #59963A;">\e[0;32m</span><span style="color: #98be65;">%}%n%{\e[m%}'</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{\e[3;35m%}'</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"$(_show_venv)"</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{\e[m%}'</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'@'</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #ffffff; background-color: #4068A3;">\e[0;34m</span><span style="color: #98be65;">%}%m%{\e[m%}'</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"$(git_ps)"</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">%}:%1~'</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #000000; background-color: #7E8A90;">\e[0;37m</span><span style="color: #98be65;">%}\n%{\e[m%}&#187; '</span>

    <span style="color: #ffffaf;">PS2</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">%}cont...'</span>
    <span style="color: #ffffaf;">PS2</span>+=$<span style="color: #98be65;">'%{\e[m%}'</span>
    <span style="color: #ffffaf;">PS2</span>+=$<span style="color: #98be65;">'&#187; '</span>

    <span style="color: #ffffaf;">PS3</span>=<span style="color: #98be65;">'Selection: '</span>

    <span style="color: #ffffaf;">RPROMPT</span>+=$<span style="color: #98be65;">'%*'</span>
    <span style="color: #ffffaf;">RPROMPT</span>+=<span style="color: #98be65;">"%{$_exit_color%}-${_elapsed}"</span>
    <span style="color: #ffffaf;">RPROMPT</span>+=$<span style="color: #98be65;">'%{\e[m%}'</span>
    <span style="color: #d76f10;">unset</span> _exit_stat
    <span style="color: #d76f10;">unset</span> _elapsed
<span style="color: #51afef;">}</span>

add-zsh-hook precmd _pspps
add-zsh-hook preexec _pspexec

</pre>
</div>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-org4de8d8d" class="outline-3">
<h3 id="org4de8d8d">Mathematical</h3>
<div class="outline-text-3" id="text-org4de8d8d">
</div>
<div id="outline-container-org4fa6b7d" class="outline-4">
<h4 id="org4fa6b7d">In-Line Calculator</h4>
<div class="outline-text-4" id="text-org4fa6b7d">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">mathcalc</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"$*"</span>| bc -lq
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d6374d" class="outline-4">
<h4 id="org2d6374d">Computational</h4>
<div class="outline-text-4" id="text-org2d6374d">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">dec2hex</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"hex:"</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"obase=16; $*"</span>| bc
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"dec:"</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"ibase=16; $*"</span>| bc
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org19b00db" class="outline-3">
<h3 id="org19b00db">Compilation</h3>
<div class="outline-text-3" id="text-org19b00db">
</div>
<div id="outline-container-orge3fbd2d" class="outline-4">
<h4 id="orge3fbd2d">PDF from Latex</h4>
<div class="outline-text-4" id="text-orge3fbd2d">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">pdfcompile</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pdflatex"</span> <span style="color: #da8548; font-weight: bold;">1</span>&gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"pdflatex is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>

    pdflatex <span style="color: #98be65;">"$1"</span>
    <span style="color: #51afef;">for</span> ext<span style="color: #51afef;"> in</span> <span style="color: #98be65;">".toc"</span> <span style="color: #98be65;">".log"</span> <span style="color: #98be65;">".aux"</span>; <span style="color: #51afef;">do</span>
        <span style="color: #c678dd;">[</span> -f <span style="color: #98be65;">"${1%.tex}${ext}"</span> <span style="color: #c678dd;">]</span> &amp;&amp; rm <span style="color: #98be65;">"${1%.tex}${ext}"</span>
    <span style="color: #51afef;">done</span>
    evince <span style="color: #98be65;">"${1%.tex}.pdf"</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb80652f" class="outline-4">
<h4 id="orgb80652f">Pandoc</h4>
<div class="outline-text-4" id="text-orgb80652f">
</div>
<ul class="org-ul">
<li><a id="orge781bf1"></a>Org to Something<br />
<div class="outline-text-5" id="text-orge781bf1">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">org2export</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Usage: org2oth [-f] &lt;infile&gt; &lt;othtype&gt;</span>
    <span style="color: #51afef;">if ! </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pandoc"</span> <span style="color: #da8548; font-weight: bold;">1</span>&gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"pandoc is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">proceed</span>=
    <span style="color: #51afef;">while</span> test $<span style="color: #ffffaf;">#</span> -gt <span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">do</span>
        <span style="color: #51afef;">case</span> <span style="color: #98be65;">"$1"</span><span style="color: #51afef;"> in</span>
            -f|--force)
                <span style="color: #ffffaf;">proceed</span>=true
                <span style="color: #d76f10;">shift</span> <span style="color: #da8548; font-weight: bold;">1</span>
                ;;
            *)
                <span style="color: #ffffaf;">infile</span>=<span style="color: #98be65;">"${1}"</span>
                <span style="color: #d76f10;">shift</span> <span style="color: #da8548; font-weight: bold;">1</span>
                ;;
        <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">done</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${1}"</span> = <span style="color: #98be65;">"pdf"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">target</span>=<span style="color: #98be65;">"latex"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">target</span>=<span style="color: #98be65;">"${1}"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">case</span> <span style="color: #98be65;">"$infile"</span><span style="color: #51afef;"> in</span>
        *.org)
            <span style="color: #ffffaf;">proceed</span>=true
            ;;
        *)
            <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"Input file should be an org file"</span>
            ;;
    <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"$proceed"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        pandoc -f org -t <span style="color: #98be65;">"${target}"</span> -o <span style="color: #98be65;">"${infile%.*}.${1}"</span> <span style="color: #98be65;">"$infile"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> proceed
    <span style="color: #d76f10;">unset</span> target
    <span style="color: #d76f10;">unset</span> infile
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</li>

<li><a id="org856a6a2"></a>Org to Docx<br />
<div class="outline-text-5" id="text-org856a6a2">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">org2doc</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    org2export <span style="color: #98be65;">"$@"</span> <span style="color: #98be65;">"docx"</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</li>

<li><a id="orgcf4432f"></a>Org to PDF<br />
<div class="outline-text-5" id="text-orgcf4432f">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">org2pdf</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    org2export <span style="color: #98be65;">"$@"</span> <span style="color: #98be65;">"pdf"</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</li>

<li><a id="org01f0877"></a>Docx to Org<br />
<div class="outline-text-5" id="text-org01f0877">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">doc2org</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if ! </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pandoc"</span> <span style="color: #da8548; font-weight: bold;">1</span>&gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"pandoc is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${1}"</span><span style="color: #51afef;"> in</span>
        *.docx)
            pandoc -f docx -t org -o <span style="color: #98be65;">"${1%.docx}.org"</span> <span style="color: #98be65;">"$1"</span>
            ;;
        *)
            <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"Input file must be a docx file"</span>
            ;;
    <span style="color: #51afef;">esac</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-org23ce0e0" class="outline-3">
<h3 id="org23ce0e0">Mount over ssh</h3>
<div class="outline-text-3" id="text-org23ce0e0">
<p>
ssh Cloud mounts
</p>
<ul class="org-ul">
<li>see <a href="./cloud_mount.html">cloud_mount</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">mount_cloud_sshfs</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">mount_script</span>=<span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bin/cloud_mount.sh"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -f <span style="color: #98be65;">"${mount_script}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">eval</span> <span style="color: #98be65;">"${mount_script}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>

<span style="color: #9f5f9f; font-weight: bold;">umount_cloud_sshfs</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">mount_script</span>=<span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bin/cloud_mount.sh"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -f <span style="color: #98be65;">"${mount_script}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">eval</span> <span style="color: #98be65;">"${mount_script}"</span> <span style="color: #98be65;">"umount"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org186856d" class="outline-3">
<h3 id="org186856d">Launch gui</h3>
<div class="outline-text-3" id="text-org186856d">
<p>
Launch application and exit terminal window
Acts like a launcher
Uninteractive terminal commands may also be called
Code is tangled in gui.org
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">gui</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #98be65;">"${RUNCOM:-${HOME}/.runcom}/bin/gui.sh"</span> <span style="color: #98be65;">"$@"</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgaa38c60" class="outline-3">
<h3 id="orgaa38c60">Un-Compress by context</h3>
<div class="outline-text-3" id="text-orgaa38c60">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">deconvolute</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pigz"</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_gzip</span>=<span style="color: #98be65;">"pigz"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">_gzip</span>=<span style="color: #98be65;">'gzip'</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> -f <span style="color: #98be65;">"${1}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${1}: no such file"</span>;
    <span style="color: #51afef;">else</span>
        <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${1}"</span><span style="color: #51afef;"> in</span>
            *.tar.bz2) tar -xjf <span style="color: #98be65;">"${1}"</span> ;;
            *.tbz2) tar -xjf <span style="color: #98be65;">"${1}"</span> ;;
            *.tar.gz) tar -x --use-compress-program=<span style="color: #98be65;">"${_gzip}"</span> -f <span style="color: #98be65;">"${1}"</span> ;;
            *.tgz) tar -x --use-compress-program=<span style="color: #98be65;">"${_gzip}"</span> -f <span style="color: #98be65;">"${1}"</span> ;;
            *.gz) unpigz <span style="color: #98be65;">"${1}"</span> || gunzip <span style="color: #98be65;">"${1}"</span> ;;
            *.rar) unrar -x <span style="color: #98be65;">"${1}"</span> ;;
            *.tar) tar -xf <span style="color: #98be65;">"${1}"</span> ;;
            *.zip) unzip <span style="color: #98be65;">"${1}"</span> ;;
            *.tar.xz) tar -xf <span style="color: #98be65;">"${1}"</span> ;;
            *) <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"Cannot extract ${1}, provide explicit command"</span>;;
        <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> _gzip
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4d55c50" class="outline-3">
<h3 id="org4d55c50">Navigate</h3>
<div class="outline-text-3" id="text-org4d55c50">
<ul class="org-ul">
<li>When no virtualenv is active, but one is available, switch to it</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">cd</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${1}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">builtin</span> cd <span style="color: #98be65;">"${HOME}"</span> || <span style="color: #d76f10;">true</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #d76f10;">builtin</span> cd <span style="color: #98be65;">"${1}"</span>  || <span style="color: #d76f10;">true</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${VIRTUAL_ENV}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        to_venv <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>

<ul class="org-ul">
<li>Inspired by lukesmith.xyz</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">lfcd</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> command -v <span style="color: #98be65;">'lf'</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"lf is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">tmp_file</span>=<span style="color: #98be65;">"$(mktemp)"</span>
    lf -last-dir-path=<span style="color: #98be65;">"${tmp_file}"</span> <span style="color: #98be65;">"$@"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -f <span style="color: #98be65;">"${tmp_file}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">target_dir</span>=<span style="color: #98be65;">"$(cat "${tmp_file}")"</span>
        rm -f <span style="color: #98be65;">"${tmp_file}"</span> &gt;/dev/null
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -d <span style="color: #98be65;">"${target_dir}"</span> <span style="color: #c678dd;">]</span> &amp;&amp; <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${target_dir}"</span> != <span style="color: #98be65;">"$(pwd)"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            <span style="color: #d76f10;">cd</span> <span style="color: #98be65;">"${target_dir}"</span> || <span style="color: #51afef;">return</span>
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> tmp_file
    <span style="color: #d76f10;">unset</span> target_dir
<span style="color: #51afef;">}</span>

<span style="color: #9f5f9f; font-weight: bold;">fzfcd</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> command -v <span style="color: #98be65;">'fzf'</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"fzf is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">cd</span> <span style="color: #98be65;">"$(dirname "$(fzf)")"</span> || <span style="color: #d76f10;">true</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org53745f2" class="outline-3">
<h3 id="org53745f2">zwc</h3>
<div class="outline-text-3" id="text-org53745f2">
<ul class="org-ul">
<li>Guess whether target is zipped;
if zipped, unzip and count else classical wc</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">zwc</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"$*"</span>
    <span style="color: #ffffaf;">fname</span>=<span style="color: #98be65;">"${args##* }"</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args% ${fname}}"</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args%${fname}}"</span>

    <span style="color: #51afef;">if</span> gzip -t <span style="color: #98be65;">"${fname}"</span> &gt; /dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${args}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            zcat -f <span style="color: #98be65;">"${fname}"</span> | wc
        <span style="color: #51afef;">else</span>
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2086</span>
            zcat -f <span style="color: #98be65;">"${fname}"</span> | wc $<span style="color: #ffffaf;">args</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">else</span>
        wc <span style="color: #98be65;">"$@"</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>

<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4f676b8" class="outline-3">
<h3 id="org4f676b8">disable autovenv</h3>
<div class="outline-text-3" id="text-org4f676b8">
<ul class="org-ul">
<li>To disable autoswitching virtualenvs, hard-set VIRTUAL_ENV
<ul class="org-ul">
<li>Calling the function again reverts</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">force_global_venv</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${VIRTUAL_ENV}"</span> = <span style="color: #98be65;">"Global_Env"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">unset</span> VIRTUAL_ENV
        to_venv <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
    <span style="color: #51afef;">else</span>
        deactivate <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
        <span style="color: #ffffaf;">VIRTUAL_ENV</span>=<span style="color: #98be65;">"Global_Env"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org84fa712" class="outline-3">
<h3 id="org84fa712">lszcat</h3>
<div class="outline-text-3" id="text-org84fa712">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">lszcat</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"$*"</span>
    <span style="color: #ffffaf;">fname</span>=<span style="color: #98be65;">"${args##* }"</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args%% ${fname}}"</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args%%${fname}}"</span>

    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v bat &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">betcat</span>=<span style="color: #98be65;">"$(which bat)"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">betcat</span>=<span style="color: #98be65;">"$(which cat)"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v exa &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">betls</span>=<span style="color: #98be65;">"$(which exa)"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">betls</span>=<span style="color: #98be65;">"$(which ls)"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${fname}"</span> <span style="color: #c678dd;">]</span> || <span style="color: #c678dd;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> <span style="color: #98be65;">"${fname#-}"</span> = <span style="color: #98be65;">"${fname}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${args}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${fname}"</span>
        <span style="color: #51afef;">else</span>
            <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args} ${fname}"</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #ffffaf;">fname</span>=<span style="color: #98be65;">"$(readlink -f ".")"</span>
        <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${fname}"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -d <span style="color: #98be65;">"${fname}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2086</span>
        <span style="color: #98be65;">"${betls}"</span> $<span style="color: #c678dd;">{</span><span style="color: #ffffaf;">args</span><span style="color: #c678dd;">}</span> <span style="color: #98be65;">"${fname}"</span>
    <span style="color: #51afef;">elif</span> gzip -t <span style="color: #98be65;">"${fname}"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2086</span>
        zcat -f $<span style="color: #c678dd;">{</span><span style="color: #ffffaf;">args</span><span style="color: #c678dd;">}</span> <span style="color: #98be65;">"${fname}"</span> | <span style="color: #98be65;">"${betcat}"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2086</span>
        <span style="color: #98be65;">"${betcat}"</span> $<span style="color: #c678dd;">{</span><span style="color: #ffffaf;">args</span><span style="color: #c678dd;">}</span> <span style="color: #98be65;">"${fname}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgae400c8" class="outline-3">
<h3 id="orgae400c8">manual pages</h3>
<div class="outline-text-3" id="text-orgae400c8">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">man_help</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> man <span style="color: #98be65;">"$@"</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #51afef;">elif</span> tldr <span style="color: #98be65;">"$@"</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #51afef;">elif </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"$1"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"trying to display %s --help output\n"</span> <span style="color: #98be65;">"${1}"</span>
        <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">'bat'</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
            $<span style="color: #da8548; font-weight: bold;">1</span> --help <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span> | bat
        <span style="color: #51afef;">else</span>
            $<span style="color: #da8548; font-weight: bold;">1</span> --help <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span> | less -RF
        <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">16</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge3f3efe" class="outline-2">
<h2 id="orge3f3efe">Aliases</h2>
<div class="outline-text-2" id="text-orge3f3efe">
</div>
<div id="outline-container-org10ea43d" class="outline-3">
<h3 id="org10ea43d">Disk Usage</h3>
<div class="outline-text-3" id="text-org10ea43d">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">du</span>=<span style="color: #98be65;">'du -hc'</span>;
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">df</span>=<span style="color: #98be65;">'df -h'</span>;
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">duall</span>=<span style="color: #98be65;">"du -hc |\grep '^[3-9]\{3\}M\|^[0-9]\{0,3\}\.\{0,1\}[0-9]\{0,1\}G'"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org433c37a" class="outline-3">
<h3 id="org433c37a">manual page help</h3>
<div class="outline-text-3" id="text-org433c37a">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">man</span>=<span style="color: #98be65;">"man_help"</span>;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf13de9a" class="outline-3">
<h3 id="orgf13de9a">Network</h3>
<div class="outline-text-3" id="text-orgf13de9a">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">nload</span>=<span style="color: #98be65;">'nload -u M -U G -t 10000 -a 3600 $(ip a | grep -m 1 " UP " | cut -d " " -f 2 | cut -d ":" -f 1)'</span>
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">nethogs</span>=<span style="color: #98be65;">'\su - -c "nethogs $(ip a | grep  "state UP" | cut -d " " -f 2 | cut -d ":" -f 1) -d 10"'</span>;
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">ping</span>=<span style="color: #98be65;">"ping -c 4 "</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org3f28657" class="outline-3">
<h3 id="org3f28657">Monitor Job queues</h3>
<div class="outline-text-3" id="text-org3f28657">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">watch</span>=<span style="color: #98be65;">"watch -n 10 --color"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4ea667" class="outline-3">
<h3 id="orgd4ea667">Lazy single-handed exit</h3>
<div class="outline-text-3" id="text-orgd4ea667">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">qqqq</span>=<span style="color: #98be65;">"exit"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org9563355" class="outline-3">
<h3 id="org9563355">[z]wc</h3>
<div class="outline-text-3" id="text-org9563355">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">wc</span>=<span style="color: #98be65;">"zwc"</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2350bdd" class="outline-2">
<h2 id="org2350bdd">Networking</h2>
<div class="outline-text-2" id="text-org2350bdd">
</div>
<div id="outline-container-org2e6417d" class="outline-3">
<h3 id="org2e6417d">State</h3>
<div class="outline-text-3" id="text-org2e6417d">
<p>
The <b>OLDEST</b> part of prady_runcom&#x2026;
</p>
<ul class="org-ul">
<li>&#x2026; although, amended many times</li>
<li>see <a href="./netcheck.html">netcheck</a></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=./bin/netcheck.sh</span>
<span style="color: #ffffaf;">o_ifs</span>=<span style="color: #98be65;">"${IFS}"</span>
<span style="color: #ffffaf;">IFS</span>=<span style="color: #98be65;">"$(printf "\t")"</span> read -r ip_addr _ netstate &lt;&lt; netcheck
<span style="color: #98be65;">$("${RUNCOMDIR:-${HOME}/.runcom}"/bin/netcheck.sh)</span>
<span style="color: #98be65;">netcheck</span>
<span style="color: #ffffaf;">IFS</span>=<span style="color: #98be65;">"${o_ifs}"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> $<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> netstate &amp; <span style="color: #da8548; font-weight: bold;">8</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #63B4F6;">\e[1;34m</span><span style="color: #98be65;">Internet (GOOGLE) Connected\e[m\n"</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> $<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> netstate &amp; <span style="color: #da8548; font-weight: bold;">16</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #CB77F9;">\e[1;35m</span><span style="color: #98be65;">Problem with DNS\e[m\n"</span>
    <span style="color: #51afef;">fi</span>
    printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #59963A;">\033[0;32m</span><span style="color: #98be65;">%s \e[m is current wireless ip address\n"</span> <span style="color: #98be65;">"$ip_addr"</span>
<span style="color: #51afef;">else</span>
    printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #EC6261;">\e[1;31m</span><span style="color: #98be65;">Internet (GOOGLE) Not reachable\e[m\n"</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> $<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> netstate &amp; <span style="color: #da8548; font-weight: bold;">4</span> <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Intranet is connected</span>
        printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\033[0;31m</span><span style="color: #98be65;">Internet Down\e[m\n"</span>
        <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> $<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> netstate &amp; <span style="color: #da8548; font-weight: bold;">2</span> <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
            printf <span style="color: #98be65;">"Home network connected,\n"</span>
        <span style="color: #51afef;">elif</span> <span style="color: #51afef;">[</span> $<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> netstate &amp; <span style="color: #da8548; font-weight: bold;">1</span> <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
            printf <span style="color: #98be65;">"OFFICE network connected,\n"</span>
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=./bin/proxy_send.sh</span>
            <span style="color: #ffffaf;">auto_proxy</span>=<span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bin/proxy_send.sh"</span>
            <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${auto_proxy}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
                <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=./proxy_send.py</span>
                <span style="color: #d76f10;">eval</span> $<span style="color: #ffffaf;">auto_proxy</span> &amp;&amp; printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #BE8A2D;">\e[0;33m</span><span style="color: #98be65;">PROXY AUTH </span><span style="color: #3f9f9f;">SENT</span><span style="color: #98be65;">\e[m\n"</span>;
            <span style="color: #51afef;">fi</span>
            <span style="color: #d76f10;">unset</span> auto_proxy
        <span style="color: #51afef;">else</span>
            printf <span style="color: #98be65;">"HOTSPOT connected\n"</span>
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">else</span>
        printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #F0C649;">\e[1;33m</span><span style="color: #98be65;">Network connection Disconnected\e[m\n"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">fi</span>
<span style="color: #d76f10;">unset</span> o_ifs
<span style="color: #d76f10;">unset</span> ip_addr
</pre>
</div>
</div>
</div>

<div id="outline-container-org9e7c582" class="outline-3">
<h3 id="org9e7c582">SSH Agent</h3>
<div class="outline-text-3" id="text-org9e7c582">
<p>
Reuse ssh agent for all logins
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> -S <span style="color: #98be65;">"~/.ssh/ssh_auth_sock"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #d76f10;">eval</span> <span style="color: #98be65;">"$(ssh-agent)"</span>
    ln -sf <span style="color: #98be65;">"$SSH_AUTH_SOCK"</span> ~/.ssh/ssh_auth_sock
<span style="color: #51afef;">fi</span>
<span style="color: #ffffaf;">SSH_AUTH_SOCK</span>=~/.ssh/ssh_auth_sock
<span style="color: #d76f10;">export</span> SSH_AUTH_SOCK
ssh-add -l &gt; /dev/null || ssh-add
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org43fd27d" class="outline-2">
<h2 id="org43fd27d">Window Manager settings</h2>
<div class="outline-text-2" id="text-org43fd27d">
</div>
<div id="outline-container-org2b96663" class="outline-3">
<h3 id="org2b96663">Sway exports</h3>
<div class="outline-text-3" id="text-org2b96663">
<p>
Don't really remember why these were made
Not using currently. Preserved for future
tangle to bash_login
export WLR_BACKENDS="headless";
export WLR_LIBINPUT_NO_DEVICES=1;
</p>
</div>
</div>

<div id="outline-container-org4ad462f" class="outline-3">
<h3 id="org4ad462f">User Interface (GUI/CLI)</h3>
<div class="outline-text-3" id="text-org4ad462f">
<p>
If running from tty1 setup sway environment and start ui
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">_common_exports</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"$XDG_RUNTIME_DIR"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">XDG_RUNTIME_DIR</span>=<span style="color: #98be65;">"/run/user/$(id -u)"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">QT_PLUGIN_PATH</span>=<span style="color: #98be65;">"/usr/lib/kde4/plugins/"</span>
    <span style="color: #ffffaf;">QT_AUTO_SCREEN_SCALE_FACTOR</span>=<span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #ffffaf;">QT_QPA_PLATFORMTHEME</span>=<span style="color: #98be65;">"qt5ct"</span>
    <span style="color: #ffffaf;">_JAVA_AWT_WM_NONREPARENTING</span>=<span style="color: #da8548; font-weight: bold;">1</span>

    <span style="color: #d76f10;">export</span> XDG_RUNTIME_DIR
    <span style="color: #d76f10;">export</span> QT_PLUGIN_PATH
    <span style="color: #d76f10;">export</span> QT_AUTO_SCREEN_SCALE_FACTOR
    <span style="color: #d76f10;">export</span> QT_QPA_PLATFORMTHEME
    <span style="color: #d76f10;">export</span> _JAVA_AWT_WM_NONREPARENTING
<span style="color: #51afef;">}</span>
<span style="color: #9f5f9f; font-weight: bold;">_exports_for_sway</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export DISPLAY=":0"</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export WAYLAND_DISPLAY=wayland-0</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export GDK_BACKEND=wayland,x11</span>
    _common_exports

    <span style="color: #ffffaf;">XDG_SESSION_TYPE</span>=<span style="color: #98be65;">"wayland"</span>
    <span style="color: #ffffaf;">SDL_VIDEODRIVER</span>=<span style="color: #98be65;">"wayland"</span>
    <span style="color: #ffffaf;">SWAYROOT</span>=<span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/sway"</span>
    <span style="color: #ffffaf;">ECORE_EVAS_ENGINE</span>=<span style="color: #98be65;">"wayland_egl"</span>
    <span style="color: #ffffaf;">ELM_DISPLAY</span>=<span style="color: #98be65;">"wl"</span>
    <span style="color: #ffffaf;">ELM_ENGINE</span>=<span style="color: #98be65;">"wayland_egl"</span>
    <span style="color: #ffffaf;">ELM_ACCEL</span>=<span style="color: #98be65;">"opengl"</span>
    <span style="color: #ffffaf;">QT_QPA_PLATFORM</span>=<span style="color: #98be65;">"wayland-egl;xcb"</span>
    <span style="color: #ffffaf;">QT_WAYLAND_FORCE_DPI</span>=<span style="color: #da8548; font-weight: bold;">100</span>
    <span style="color: #ffffaf;">QT_WAYLAND_DISABLE_WINDOWDECORATION</span>=<span style="color: #da8548; font-weight: bold;">1</span>
    <span style="color: #ffffaf;">MOZ_ENABLE_WAYLAND</span>=<span style="color: #da8548; font-weight: bold;">1</span>

    <span style="color: #d76f10;">export</span> XDG_SESSION_TYPE
    <span style="color: #d76f10;">export</span> SDL_VIDEODRIVER
    <span style="color: #d76f10;">export</span> SWAYROOT
    <span style="color: #d76f10;">export</span> ECORE_EVAS_ENGINE
    <span style="color: #d76f10;">export</span> ELM_DISPLAY
    <span style="color: #d76f10;">export</span> ELM_ENGINE
    <span style="color: #d76f10;">export</span> ELM_ACCEL
    <span style="color: #d76f10;">export</span> QT_QPA_PLATFORM
    <span style="color: #d76f10;">export</span> QT_WAYLAND_FORCE_DPI
    <span style="color: #d76f10;">export</span> QT_WAYLAND_DISABLE_WINDOWDECORATION
    <span style="color: #d76f10;">export</span> MOZ_ENABLE_WAYLAND
<span style="color: #51afef;">}</span>

<span style="color: #9f5f9f; font-weight: bold;">_exports_for_x11</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    _common_exports

    <span style="color: #ffffaf;">XDG_SESSION_TYPE</span>=<span style="color: #98be65;">"x11"</span>
    <span style="color: #ffffaf;">SDL_VIDEODRIVER</span>=<span style="color: #98be65;">"x11"</span>
    <span style="color: #ffffaf;">I3ROOT</span>=<span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/i3"</span>

    <span style="color: #d76f10;">export</span> XDG_SESSION_TYPE
    <span style="color: #d76f10;">export</span> SDL_VIDEODRIVER
    <span style="color: #d76f10;">export</span> I3ROOT

    <span style="color: #d76f10;">unset</span> ECORE_EVAS_ENGINE
    <span style="color: #d76f10;">unset</span> ELM_DISPLAY
    <span style="color: #d76f10;">unset</span> ELM_ENGINE
    <span style="color: #d76f10;">unset</span> ELM_ACCEL
    <span style="color: #d76f10;">unset</span> QT_QPA_PLATFORM
    <span style="color: #d76f10;">unset</span> QT_WAYLAND_FORCE_DPI
    <span style="color: #d76f10;">unset</span> QT_WAYLAND_DISABLE_WINDOWDECORATION
    <span style="color: #d76f10;">unset</span> MOZ_ENABLE_WAYLAND
<span style="color: #51afef;">}</span>
<span style="color: #9f5f9f; font-weight: bold;">_select_x11_manager</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"Window managers:"</span>
    ls <span style="color: #98be65;">"/usr/share/xsessions"</span>
    <span style="color: #d76f10;">read</span> x11wm &amp;&amp; <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${x11wm}"</span> &gt; <span style="color: #98be65;">"${HOME}/.xinitrc"</span> &amp;&amp; <span style="color: #d76f10;">unset</span> x11wm
<span style="color: #51afef;">}</span>

<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> <span style="color: #98be65;">"$(tty)"</span> = <span style="color: #98be65;">"/dev/tty1"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v sway <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span> &gt; /dev/null; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">if</span> sway --validate; <span style="color: #51afef;">then</span>
            _exports_for_sway
            <span style="color: #51afef;">exec</span> dbus-launch --sh-syntax --exit-with-session sway
        <span style="color: #51afef;">else</span>
            <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"Error while validating sway configuration"</span>
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">else</span>
        _exports_for_x11
        _select_x11_manager
        <span style="color: #51afef;">exec</span> startx
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">elif</span> <span style="color: #51afef;">[</span> <span style="color: #98be65;">"$(tty)"</span> = <span style="color: #98be65;">"/dev/tty2"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    _exports_for_x11
    _select_x11_manager
    <span style="color: #51afef;">exec</span> startx
<span style="color: #51afef;">elif</span> <span style="color: #51afef;">[</span> <span style="color: #98be65;">"$TERM"</span> = <span style="color: #98be65;">"linux"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    printf <span style="color: #98be65;">"\e]P0000000"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">black</span>
    printf <span style="color: #98be65;">"\e]P83f3f3f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkgrey</span>
    printf <span style="color: #98be65;">"\e]P19f3f3f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkred</span>
    printf <span style="color: #98be65;">"\e]P9ff9f9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">red</span>
    printf <span style="color: #98be65;">"\e]P23f9f3f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkgreen</span>
    printf <span style="color: #98be65;">"\e]PAbfefbf"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">green</span>
    printf <span style="color: #98be65;">"\e]P3bf9f3f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">brown</span>
    printf <span style="color: #98be65;">"\e]PB9fff9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">yellow</span>
    printf <span style="color: #98be65;">"\e]P45f5f9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkblue</span>
    printf <span style="color: #98be65;">"\e]PC9f9fff"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">blue</span>
    printf <span style="color: #98be65;">"\e]P59f3f9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkmagenta</span>
    printf <span style="color: #98be65;">"\e]PDff9fff"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">magenta</span>
    printf <span style="color: #98be65;">"\e]P63f9f9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkcyan</span>
    printf <span style="color: #98be65;">"\e]PE9fffff"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">cyan</span>
    printf <span style="color: #98be65;">"\e]P7afafaf"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">lightgrey</span>
    printf <span style="color: #98be65;">"\e]PFffffff"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">white</span>
    clear <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">for background artifacting</span>
<span style="color: #51afef;">fi</span>

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org232eb97" class="outline-2">
<h2 id="org232eb97">Calls</h2>
<div class="outline-text-2" id="text-org232eb97">
</div>
<div id="outline-container-org7ff1c6e" class="outline-3">
<h3 id="org7ff1c6e">bash</h3>
<div class="outline-text-3" id="text-org7ff1c6e">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">netcheck source=.local/share/pspman/src/runcom/ui</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}"</span>/ui <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}"</span>/ui
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org0eb13d8" class="outline-3">
<h3 id="org0eb13d8">zsh</h3>
<div class="outline-text-3" id="text-org0eb13d8">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">netcheck source=.local/share/pspman/src/runcom/ui</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}"</span>/ui <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}"</span>/ui
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
