<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-12-02 Fri 16:33 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Prady runcom</title>
<meta name="author" content="Pradyumna Paranjape" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Prady runcom</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org3278089">Prady_runcom</a>
<ul>
<li><a href="#orgb0698b0">What's this?</a></li>
<li><a href="#org4698ad7">Will you be able to set this up?</a></li>
</ul>
</li>
<li><a href="#org975e617">Copyright/License Header</a></li>
<li><a href="#org2ac3d82">Structure</a>
<ul>
<li><a href="#org40a9d93">Bash</a></li>
<li><a href="#org40a5603">Zsh</a></li>
</ul>
</li>
<li><a href="#org18d7c71">Headers</a></li>
<li><a href="#orga349afc">Profiles</a></li>
<li><a href="#orgac6175e">Init</a>
<ul>
<li><a href="#org03ba903">profile</a></li>
<li><a href="#org338c1ba">bash</a></li>
<li><a href="#orgdb484ed">zsh</a></li>
</ul>
</li>
<li><a href="#org927b103">Inherit</a>
<ul>
<li><a href="#org214f1ac">bash</a></li>
<li><a href="#orgdbfbbcf">zsh</a></li>
<li><a href="#org397a645">shrc</a></li>
</ul>
</li>
<li><a href="#org34c43ba">Better alternatives</a>
<ul>
<li><a href="#org2c33787">Alias-er script</a></li>
<li><a href="#orge733e48">alias commands</a></li>
<li><a href="#org60119c7">Atuin</a></li>
<li><a href="#org7506b31">List Contents</a></li>
</ul>
</li>
<li><a href="#org095cf67">Variables</a>
<ul>
<li><a href="#orgaa3bd16">XDG</a></li>
<li><a href="#org43da0d1">PATH</a></li>
<li><a href="#orgaab8025">Editor wars</a></li>
<li><a href="#org3c12315">C(++) exports</a></li>
<li><a href="#orgea8b2c7">CARGO (Rust) exports</a></li>
<li><a href="#orge477218">GPU exports</a></li>
<li><a href="#org3822cff">Bemenu exports</a></li>
<li><a href="#orgfc49acd">GTK+ debugging output</a></li>
</ul>
</li>
<li><a href="#orgb85cfe2">Functions</a>
<ul>
<li><a href="#org7cebc9f">Python</a></li>
<li><a href="#orgbddfc69">Git</a></li>
<li><a href="#orgc5d92c7">Prompt String</a></li>
<li><a href="#orgf077b86">Mathematical</a></li>
<li><a href="#org5d4e791">Documents compilation</a></li>
<li><a href="#orgc4bed79">Mount over ssh</a></li>
<li><a href="#org93eb0c3">Launch GUI</a></li>
<li><a href="#org972a193">Un-Compress by context</a></li>
<li><a href="#orgf72e006">Navigate</a></li>
<li><a href="#orgd0e63f3">zwc</a></li>
<li><a href="#org48eca2b">disable auto-venv</a></li>
<li><a href="#org5fd77d8">lszcat</a></li>
<li><a href="#org9b31f5a">Manual pages</a></li>
<li><a href="#org72c045e">Selection menu</a></li>
</ul>
</li>
<li><a href="#org780ea88">Aliases</a>
<ul>
<li><a href="#org4e1eba6">manual page help</a></li>
<li><a href="#orgebb6789">Network</a></li>
<li><a href="#orgd584645">Monitor Job queues</a></li>
<li><a href="#orge5708e9">Lazy single-handed exit</a></li>
<li><a href="#org5f9308a">[z]wc</a></li>
<li><a href="#org65a0c1e">Encrypted cURL</a></li>
</ul>
</li>
<li><a href="#orgcbc7a6c">Networking</a>
<ul>
<li><a href="#orgd00feeb">State</a></li>
<li><a href="#org942027f">SSH Agent</a></li>
</ul>
</li>
<li><a href="#org8383883">Window Manager settings</a>
<ul>
<li><a href="#orgcb2ff73">Terminal</a></li>
<li><a href="#org6bd08a6">Sway exports</a></li>
<li><a href="#org3f0c28e">User Interface (GUI/CLI)</a></li>
</ul>
</li>
<li><a href="#org20d2c7b">Calls</a>
<ul>
<li><a href="#org9050916">bash</a></li>
<li><a href="#org2613e3c">zsh</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org3278089" class="outline-2">
<h2 id="org3278089">Prady_runcom</h2>
<div class="outline-text-2" id="text-org3278089">
</div>
<div id="outline-container-orgb0698b0" class="outline-3">
<h3 id="orgb0698b0">What's this?</h3>
<div class="outline-text-3" id="text-orgb0698b0">
<ul class="org-ul">
<li>A compilation of dot-files: default variables, custom functions, aliases.</li>
<li><b>My</b> configuration backup, "<a href="https://git-scm.com/docs/git-push">push</a>"ed to work as a template for yours.</li>
</ul>
</div>

<div id="outline-container-org29e9d46" class="outline-4">
<h4 id="org29e9d46">Aim</h4>
<div class="outline-text-4" id="text-org29e9d46">
<ul class="org-ul">
<li>Cross-machine synchronization (hence, git)</li>
<li>Modularity (hence, not a single file)</li>
<li>Self-documenting (hence org files)</li>
<li>Work-flow speed (obviously)</li>
<li>"Pretty" low resource load (hence, not GNOME/KDE)</li>
</ul>
</div>
</div>

<div id="outline-container-org5b01930" class="outline-4">
<h4 id="org5b01930">Non-aim</h4>
<div class="outline-text-4" id="text-org5b01930">
<ul class="org-ul">
<li>Ease</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org4698ad7" class="outline-3">
<h3 id="org4698ad7">Will you be able to set this up?</h3>
<div class="outline-text-3" id="text-org4698ad7">
<p>
Probably <a href="setup.html#orgcc891c6"><b>NOT</b></a>.
If you insist, check <a href="setup.html">setup</a> instructions.
</p>
<div class="important" id="org704586a">
<p>
Read till the end before you decide to set this up.
</p>

</div>
</div>
</div>
</div>

<div id="outline-container-org975e617" class="outline-2">
<h2 id="org975e617">Copyright/License Header</h2>
<div class="outline-text-2" id="text-org975e617">
<p>
Copyright (c) 2020-2023 Pradyumna Paranjape
</p>

<p>
This file is part of Prady_runcom.
</p>

<p>
Prady_runcom is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
</p>

<p>
Prady_runcom is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
</p>

<p>
You should have received a copy of the GNU General Public License
along with Prady_runcom.  If not, see <a href="https://www.gnu.org/licenses/">https://www.gnu.org/licenses/</a>.
</p>
</div>
</div>

<div id="outline-container-org2ac3d82" class="outline-2">
<h2 id="org2ac3d82">Structure</h2>
<div class="outline-text-2" id="text-org2ac3d82">
<p>
Following configuration files are available. This literate configuration tangles their contents.
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Configuration File Path</th>
<th scope="col" class="org-left">POSIX</th>
<th scope="col" class="org-left">Stowed</th>
<th scope="col" class="org-left">Owner</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>/etc/profile</code></td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">root</td>
</tr>

<tr>
<td class="org-left"><code>/etc/bashrc</code></td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">root</td>
</tr>

<tr>
<td class="org-left"><code>/etc/zshrc</code></td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">root</td>
</tr>

<tr>
<td class="org-left"><code>/etc/profile.d/*</code></td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">root</td>
</tr>

<tr>
<td class="org-left"><code>${HOME}/.bashrc</code></td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${HOME}/.zshrc</code></td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${HOME}/.bash_profile</code></td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${HOME}/.bash_login</code></td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${HOME}/.profile</code></td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${HOME}/.zprofile</code></td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${HOME}/.zshenv</code></td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${HOME}/.zlogin</code></td>
<td class="org-left">yes</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${RUNCOMDIR}/env/shrc</code></td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">RUNCOM</td>
</tr>

<tr>
<td class="org-left"><code>${RUNCOMDIR}/env/ui</code></td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left">RUNCOM</td>
</tr>

<tr>
<td class="org-left"><code>${XDG_DATA_HOME}/bash-completion/completions/*</code></td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${XDG_CONFIG_DIR}</code></td>
<td class="org-left">no</td>
<td class="org-left">yes</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${XDG_CONFIG_HOME}/local.d/.*rc</code></td>
<td class="org-left">yes</td>
<td class="org-left">no</td>
<td class="org-left"><code>${USER}</code></td>
</tr>

<tr>
<td class="org-left"><code>${XDG_CONFIG_HOME}/pvt.d/.*rc</code></td>
<td class="org-left">yes</td>
<td class="org-left">pvt</td>
<td class="org-left"><code>${USER}</code></td>
</tr>
</tbody>
</table>
<p>
They are loaded in following order.
</p>
</div>

<div id="outline-container-org40a9d93" class="outline-3">
<h3 id="org40a9d93">Bash</h3>
<div class="outline-text-3" id="text-org40a9d93">
</div>
<div id="outline-container-orgb25bfad" class="outline-4">
<h4 id="orgb25bfad">/etc/profile</h4>
<div class="outline-text-4" id="text-orgb25bfad">
</div>
<div id="outline-container-org5785e58" class="outline-5">
<h5 id="org5785e58">/etc/bashrc</h5>
<div class="outline-text-5" id="text-org5785e58">
</div>
<ul class="org-ul">
<li><a id="org3d701f8"></a>/etc/profile.d/*<br /></li>
</ul>
</div>
</div>

<div id="outline-container-org8ff0129" class="outline-4">
<h4 id="org8ff0129">${HOME}/.bash_profile</h4>
<div class="outline-text-4" id="text-org8ff0129">
</div>
<div id="outline-container-org8d24987" class="outline-5">
<h5 id="org8d24987">${HOME}/.profile</h5>
</div>

<div id="outline-container-orga487618" class="outline-5">
<h5 id="orga487618">${HOME}/.bashrc</h5>
<div class="outline-text-5" id="text-orga487618">
</div>
<ul class="org-ul">
<li><a id="org68638a5"></a>${RUNCOMDIR}/env/shrc<br />
<ul class="org-ul">
<li><a id="orgc95d3e2"></a>${XDG_CONFIG_HOME}/local.d/*<br /></li>
<li><a id="org4e4c0f9"></a>${XDG_CONFIG_HOME}/pvt.d/*<br /></li>
</ul>
</li>
</ul>
</div>

<div id="outline-container-orgd361cca" class="outline-5">
<h5 id="orgd361cca">${HOME}/.bash_login</h5>
<div class="outline-text-5" id="text-orgd361cca">
</div>
<ul class="org-ul">
<li><a id="org7109506"></a>${RUNCOMDIR}/env/ui<br /></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org40a5603" class="outline-3">
<h3 id="org40a5603">Zsh</h3>
<div class="outline-text-3" id="text-org40a5603">
</div>
<div id="outline-container-orgb6962ae" class="outline-4">
<h4 id="orgb6962ae">/etc/profile</h4>
<div class="outline-text-4" id="text-orgb6962ae">
</div>
<div id="outline-container-org56f0a97" class="outline-5">
<h5 id="org56f0a97">/etc/zshrc</h5>
<div class="outline-text-5" id="text-org56f0a97">
</div>
<ul class="org-ul">
<li><a id="org681be76"></a>/etc/profile.d/*<br /></li>
</ul>
</div>
</div>

<div id="outline-container-orgbdb8c62" class="outline-4">
<h4 id="orgbdb8c62">${HOME}/.zshenv</h4>
</div>

<div id="outline-container-org52e8a33" class="outline-4">
<h4 id="org52e8a33">${HOME}/.zprofile</h4>
<div class="outline-text-4" id="text-org52e8a33">
</div>
<div id="outline-container-org6937bef" class="outline-5">
<h5 id="org6937bef">${HOME}/.profile</h5>
</div>
</div>

<div id="outline-container-orgb91ae47" class="outline-4">
<h4 id="orgb91ae47">${HOME}/.zshrc</h4>
<div class="outline-text-4" id="text-orgb91ae47">
</div>
<ul class="org-ul">
<li><a id="org98708aa"></a>${RUNCOMDIR}/env/shrc<br />
<ul class="org-ul">
<li><a id="org79ffd3d"></a>${XDG_CONFIG_HOME}/local.d/*<br /></li>
<li><a id="org1012765"></a>${XDG_CONFIG_HOME}/pvt.d/*<br /></li>
</ul>
</li>
</ul>
</div>

<div id="outline-container-org2404519" class="outline-4">
<h4 id="org2404519">${HOME}/.zlogin</h4>
<div class="outline-text-4" id="text-org2404519">
</div>
<ul class="org-ul">
<li><a id="orga38bc8b"></a>${RUNCOMDIR}/env/ui<br /></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org18d7c71" class="outline-2">
<h2 id="org18d7c71">Headers</h2>
<div class="outline-text-2" id="text-org18d7c71">
<p>
Copyright, License banners
</p>
</div>
</div>
<div id="outline-container-orga349afc" class="outline-2">
<h2 id="orga349afc">Profiles</h2>
<div class="outline-text-2" id="text-orga349afc">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${HOME}/.profile"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1091</span>
    . <span style="color: #98be65;">"${HOME}/.profile"</span>
<span style="color: #51afef;">fi</span>

<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${HOME}/.bashrc"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1091</span>
    . <span style="color: #98be65;">"${HOME}/.bashrc"</span>
<span style="color: #51afef;">fi</span>

<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${HOME}/.bash_login"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1091</span>
    . <span style="color: #98be65;">"${HOME}/.bash_login"</span>
<span style="color: #51afef;">fi</span>

</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=".profile"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${HOME}/.profile"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1091</span>
    . <span style="color: #98be65;">"${HOME}/.profile"</span>
<span style="color: #51afef;">fi</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">The following lines were added by compinstall</span>

zstyle <span style="color: #98be65;">':completion:*'</span> completer _complete _ignored _approximate
zstyle <span style="color: #98be65;">':completion:*'</span> list-colors <span style="color: #98be65;">''</span>
zstyle <span style="color: #98be65;">':completion:*'</span> matcher-list <span style="color: #98be65;">''</span>
zstyle <span style="color: #98be65;">':completion:*'</span> max-errors <span style="color: #da8548; font-weight: bold;">2</span>
zstyle <span style="color: #98be65;">':completion:*'</span> menu <span style="color: #ffffaf;">select</span>=<span style="color: #da8548; font-weight: bold;">3</span>
zstyle <span style="color: #98be65;">':completion:*'</span> select-prompt %SScrolling <span style="color: #98be65;">\</span>
       active: current selection at %p%s
zstyle :compinstall filename <span style="color: #98be65;">"${HOME}/.zshrc"</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">End of lines added by compinstall</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Lines configured by zsh-newuser-install</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-orgac6175e" class="outline-2">
<h2 id="orgac6175e">Init</h2>
<div class="outline-text-2" id="text-orgac6175e">
</div>
<div id="outline-container-org03ba903" class="outline-3">
<h3 id="org03ba903">profile</h3>
<div class="outline-text-3" id="text-org03ba903">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">LC_ALL</span>=en_IN.UTF-8
<span style="color: #ffffaf;">LANG</span>=en_IN.UTF-8

<span style="color: #d76f10;">export</span> LC_ALL
<span style="color: #d76f10;">export</span> LANG
</pre>
</div>
</div>
</div>
<div id="outline-container-org338c1ba" class="outline-3">
<h3 id="org338c1ba">bash</h3>
<div class="outline-text-3" id="text-org338c1ba">
<ul class="org-ul">
<li><p>
Prevent bashrc from running outside non-interactive mode
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef;">case</span> $<span style="color: #ffffaf;">-</span><span style="color: #51afef;"> in</span>
    *i*)
    ;;
    *)
        <span style="color: #51afef;">return</span>
        ;;
<span style="color: #51afef;">esac</span>
</pre>
</div>

<ul class="org-ul">
<li><p>
Option settings
</p>
<div class="org-src-container">
<pre class="src src-bash">shopt -s autocd
shopt -s checkwinsize
shopt -s extglob
shopt -s globstar
shopt -s histappend
shopt -s histverify
</pre>
</div>

<ul class="org-ul">
<li>History</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash">shopt -s histappend
<span style="color: #ffffaf;">HISTCONTROL</span>=ignoreboth
<span style="color: #ffffaf;">HISTFILE</span>=<span style="color: #98be65;">"${XDG_CACHE_HOME:-${HOME}/.cache}/.bash_history"</span>
<span style="color: #ffffaf;">HISTFILESIZE</span>=<span style="color: #da8548; font-weight: bold;">10000</span>
<span style="color: #ffffaf;">HISTSIZE</span>=<span style="color: #da8548; font-weight: bold;">10000</span>
</pre>
</div>

<ul class="org-ul">
<li>Coloured terminals</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #51afef;">case</span> <span style="color: #98be65;">"$TERM"</span><span style="color: #51afef;"> in</span>
    xterm-color|*-256color) <span style="color: #ffffaf;">color_prompt</span>=yes;;
<span style="color: #51afef;">esac</span>
</pre>
</div>

<ul class="org-ul">
<li>Key-bindings</li>
</ul>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #d76f10;">set</span> -o vi
bind <span style="color: #98be65;">'"jk":vi-movement-mode'</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgdb484ed" class="outline-3">
<h3 id="orgdb484ed">zsh</h3>
<div class="outline-text-3" id="text-orgdb484ed">
<p>
Settings
</p>
<ul class="org-ul">
<li><p>
History
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #ffffaf;">HISTFILE</span>=<span style="color: #98be65;">"${XDG_CACHE_HOME:-${HOME}/.cache}/.zhistory"</span>
<span style="color: #ffffaf;">HISTSIZE</span>=<span style="color: #da8548; font-weight: bold;">10000</span>
<span style="color: #ffffaf;">SAVEHIST</span>=<span style="color: #da8548; font-weight: bold;">10000</span>
</pre>
</div>
<ul class="org-ul">
<li><p>
cache files
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #ffffaf;">ZSH_COMPDUMP</span>=<span style="color: #98be65;">"${XDG_CACHE_HOME:-${HOME}/.cache}/.zcompdump"</span>
</pre>
</div></li>
</ul></li>
</ul>


<ul class="org-ul">
<li><p>
Options
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #ffffaf;">ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE</span>=<span style="color: #98be65;">"fg=</span><span style="color: #ffffff; background-color: #5f6f7f;">#5f6f7f</span><span style="color: #98be65;">,bg=</span><span style="color: #ffffff; background-color: #172737;">#172737</span><span style="color: #98be65;">"</span>
<span style="color: #ffffaf;">ZSH_AUTOSUGGEST_STRATEGY</span>=<span style="color: #51afef;">(</span><span style="color: #98be65;">"history"</span> <span style="color: #98be65;">"completion"</span><span style="color: #51afef;">)</span>
<span style="color: #d76f10;">setopt</span> autocd
<span style="color: #d76f10;">setopt</span> interactive_comments
<span style="color: #d76f10;">setopt</span> appendhistory extendedglob notify
<span style="color: #d76f10;">setopt</span> BANG_HIST                 <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Treat the '!' character specially during expansion.</span>
<span style="color: #d76f10;">setopt</span> EXTENDED_HISTORY          <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Write the history file in the ":start:elapsed;command" format.</span>
<span style="color: #d76f10;">setopt</span> INC_APPEND_HISTORY        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Write to the history file immediately, not when the shell exits.</span>
<span style="color: #d76f10;">setopt</span> HIST_EXPIRE_DUPS_FIRST    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Expire duplicate entries first when trimming history.</span>
<span style="color: #d76f10;">setopt</span> HIST_IGNORE_DUPS          <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Don't record an entry that was just recorded again.</span>
<span style="color: #d76f10;">setopt</span> HIST_IGNORE_ALL_DUPS      <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Delete old recorded entry if new entry is a duplicate.</span>
<span style="color: #d76f10;">setopt</span> HIST_FIND_NO_DUPS         <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Do not display a line previously found.</span>
<span style="color: #d76f10;">setopt</span> HIST_SAVE_NO_DUPS         <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Don't write duplicate entries in the history file.</span>
<span style="color: #d76f10;">setopt</span> HIST_IGNORE_SPACE         <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Don't record an entry starting with a space.</span>
<span style="color: #d76f10;">setopt</span> HIST_REDUCE_BLANKS        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Remove superfluous blanks before recording entry.</span>
<span style="color: #d76f10;">setopt</span> HIST_VERIFY               <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Don't execute immediately upon history expansion.</span>
<span style="color: #d76f10;">unsetopt</span> beep
<span style="color: #d76f10;">autoload</span> colors &amp;&amp; colors
<span style="color: #d76f10;">autoload</span> add-zsh-hook
<span style="color: #d76f10;">autoload</span> -Uz compinit
<span style="color: #d76f10;">autoload</span> -Uz bashcompinit
compinit
bashcompinit
</pre>
</div></li>

<li><p>
Key-bindings
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #ffffaf;">term_key_source</span>=<span style="color: #98be65;">"${HOME}/.zkbd/$TERM-${${DISPLAY:t}:-$VENDOR-$OSTYPE}"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${term_key_source}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${term_key_source}"</span>
<span style="color: #51afef;">fi</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">keybindings</span>
<span style="color: #d76f10;">bindkey</span> -v
<span style="color: #d76f10;">bindkey</span> -s <span style="color: #98be65;">'^o'</span> <span style="color: #98be65;">'lfcd\n'</span>
<span style="color: #d76f10;">bindkey</span> -s <span style="color: #98be65;">'^f'</span> <span style="color: #98be65;">'fzfcd\n'</span>
<span style="color: #d76f10;">bindkey</span> -s <span style="color: #98be65;">'^E'</span> <span style="color: #98be65;">'deactivate 2&gt;/dev/null || true\n'</span>
<span style="color: #d76f10;">bindkey</span> -s <span style="color: #98be65;">'^N'</span> <span style="color: #98be65;">'force_global_venv\n'</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[P'</span> delete-char  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">backspace key</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[1;5D'</span> vi-backward-word  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">ctrl &lt;-</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[1;5C'</span> vi-forward-word  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">ctrl -&gt;</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[3~'</span> vi-delete-char  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">delete key</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[F'</span> vi-end-of-line  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">end key</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^[[H'</span> vi-beginning-of-line  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">home key</span>
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">"^[[27;2;13~"</span> vi-open-line-below  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shift Return</span>
<span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">KEYTIMEOUT</span>=<span style="color: #da8548; font-weight: bold;">10</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Use beam shape cursor for each new prompt.</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_fix_cursor</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #d76f10;">echo</span> -ne <span style="color: #98be65;">'\e[6 q'</span>
<span style="color: #51afef;">}</span>
add-zsh-hook precmd _rc_fix_cursor

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Change cursor shape for different vi modes.</span>
<span style="color: #9f5f9f; font-weight: bold;">zle-keymap-select</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">"vicmd"</span> <span style="color: #c678dd;">]</span> ||
           <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${1}"</span> = <span style="color: #98be65;">'block'</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">'\e[2 q'</span>

    <span style="color: #51afef;">elif</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">"main"</span> <span style="color: #c678dd;">]</span> ||
             <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">"viins"</span> <span style="color: #c678dd;">]</span> ||
             <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">''</span> <span style="color: #c678dd;">]</span> ||
             <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${1}"</span> = <span style="color: #98be65;">'beam'</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">'\e[6 q'</span>
    <span style="color: #51afef;">elif</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${KEYMAP}"</span> = <span style="color: #98be65;">"visual"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">'\e[4 q'</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Use vim keys in tab complete menu:</span>
zmodload zsh/complist
zmodload zsh/mapfile
<span style="color: #d76f10;">bindkey</span> -M menuselect <span style="color: #98be65;">'h'</span> vi-backward-char
<span style="color: #d76f10;">bindkey</span> -M menuselect <span style="color: #98be65;">'k'</span> vi-up-line-or-history
<span style="color: #d76f10;">bindkey</span> -M menuselect <span style="color: #98be65;">'l'</span> vi-forward-char
<span style="color: #d76f10;">bindkey</span> -M menuselect <span style="color: #98be65;">'j'</span> vi-down-line-or-history
<span style="color: #d76f10;">bindkey</span> -v <span style="color: #98be65;">'^?'</span> backward-delete-char
<span style="color: #d76f10;">bindkey</span> -M viins <span style="color: #98be65;">'jk'</span> vi-cmd-mode
<span style="color: #d76f10;">bindkey</span> <span style="color: #98be65;">'^r'</span> history-incremental-search-backward

zle -N zle-keymap-select

</pre>
</div></li>
<li>Unset options:
<ul class="org-ul">
<li>setopt SHARE_HISTORY             # Share history between all sessions.</li>
<li>setopt HIST_BEEP                 # Beep when accessing non-existent history.</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org927b103" class="outline-2">
<h2 id="org927b103">Inherit</h2>
<div class="outline-text-2" id="text-org927b103">
</div>
<div id="outline-container-org214f1ac" class="outline-3">
<h3 id="org214f1ac">bash</h3>
<div class="outline-text-3" id="text-org214f1ac">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=".runcom/env/shrc"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/env/shrc"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/env/shrc"</span>
<span style="color: #51afef;">fi</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bash-preexec/bash-preexec.sh"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bash-preexec/bash-preexec.sh"</span>
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdbfbbcf" class="outline-3">
<h3 id="orgdbfbbcf">zsh</h3>
<div class="outline-text-3" id="text-orgdbfbbcf">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=".runcom/env/shrc"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -f <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/env/shrc"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    . <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/env/shrc"</span>
<span style="color: #51afef;">fi</span>
<span style="color: #51afef;">while </span><span style="color: #d76f10;">read</span> -r addition; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">while </span><span style="color: #d76f10;">read</span> -r share_dir; <span style="color: #51afef;">do</span>
        <span style="color: #ffffaf;">add_dir</span>=<span style="color: #98be65;">"${share_dir}/zsh-${addition}"</span>
        <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${add_dir}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1090</span>
            . <span style="color: #98be65;">"${add_dir}/zsh-${addition}.zsh"</span>
            <span style="color: #51afef;">break</span>
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">done</span> &lt;&lt; data_dir
<span style="color: #98be65;">/usr/local/share</span>
<span style="color: #98be65;">/usr/share</span>
<span style="color: #98be65;">/usr/share/zsh/plugins</span>
<span style="color: #98be65;">${XDG_DATA_HOME:-${HOME}/.local/share}</span>
<span style="color: #98be65;">${XDG_DATA_HOME:-${HOME}/.local/share}/pspman/local/share</span>
<span style="color: #98be65;">${HOME}/local/share</span>
<span style="color: #98be65;">${HOME}/share</span>
<span style="color: #98be65;">data_dir</span>
<span style="color: #51afef;">done</span> &lt;&lt; addlist
<span style="color: #98be65;">syntax-highlighting</span>
<span style="color: #98be65;">autosuggestions</span>
<span style="color: #98be65;">addlist</span>

<span style="color: #d76f10;">unset</span> addition share_dir add_dir

</pre>
</div>
</div>
</div>

<div id="outline-container-org397a645" class="outline-3">
<h3 id="org397a645">shrc</h3>
<div class="outline-text-3" id="text-org397a645">
</div>
<div id="outline-container-orgd03fc0b" class="outline-4">
<h4 id="orgd03fc0b">Current shelL</h4>
<div class="outline-text-4" id="text-orgd03fc0b">
<p>
Which shell is running?
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">_RC_SHELL</span>=<span style="color: #98be65;">"$(readlink /proc/$$/exe | sed "s/.*\///")"</span>
<span style="color: #d76f10;">export</span> _RC_SHELL
</pre>
</div>
</div>
</div>

<div id="outline-container-org257ae33" class="outline-4">
<h4 id="org257ae33">Local un-synced changes</h4>
<div class="outline-text-4" id="text-org257ae33">
<p>
All files <code>${XDG_CONFIG_HOME:-${HOME}/.config}/{local,pvt}.d/.*rc</code>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1090</span>
<span style="color: #51afef;">for</span> unsync_d<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"local.d"</span> <span style="color: #98be65;">"pvt.d"</span>; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">for</span> rcfile<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/${unsync_d}"</span>/.*rc; <span style="color: #51afef;">do</span>
        . <span style="color: #98be65;">"${rcfile}"</span>
    <span style="color: #51afef;">done</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
<span style="color: #51afef;">done</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null

<span style="color: #d76f10;">unset</span> rcfile unsync_d
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org34c43ba" class="outline-2">
<h2 id="org34c43ba">Better alternatives</h2>
<div class="outline-text-2" id="text-org34c43ba">
</div>
<div id="outline-container-org2c33787" class="outline-3">
<h3 id="org2c33787">Alias-er script</h3>
<div class="outline-text-3" id="text-org2c33787">
<p>
Alias some common commands to better alternatives if available
Commands that are listed (&lt;space&gt; separated) in the environment variable
<code>_RC_NO_ALT</code> are not aliased.
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">use better alternatives</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Args:</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;">#     </span><span style="color: #3f4f5f; background-color: #0f0f0f;">canon_cmd: canonically used command</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;">#     </span><span style="color: #3f4f5f; background-color: #0f0f0f;">alt_cmds: optional list of alternative that may be used if available</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Environment Variables</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;">#     </span><span style="color: #3f4f5f; background-color: #0f0f0f;">_RC_NO_ALT: Don't replace alternatives for &lt;space&gt; separated</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_alternative</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> <span style="color: #98be65;">"${_RC_NO_ALT% "</span>$<span style="color: #98be65;">{</span><span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">}</span><span style="color: #98be65;">"*}"</span> = <span style="color: #98be65;">"${_RC_NO_ALT}"</span> <span style="color: #c678dd;">]</span> ||<span style="color: #98be65;">\</span>
       <span style="color: #c678dd;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> <span style="color: #98be65;">"${_RC_NO_ALT#*"</span>$<span style="color: #98be65;">{</span><span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">}</span><span style="color: #98be65;">" }"</span> = <span style="color: #98be65;">"${_RC_NO_ALT}"</span> <span style="color: #c678dd;">]</span> ||<span style="color: #98be65;">\</span>
       <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${1}"</span> = <span style="color: #98be65;">"${_RC_NO_ALT}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_rc_old_cmd</span>=<span style="color: #98be65;">"${1}"</span>
    <span style="color: #d76f10;">shift</span>
    <span style="color: #51afef;">for</span> _rc_alt<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"$@"</span>; <span style="color: #51afef;">do</span>
        <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"${_rc_alt%% *}"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
            <span style="color: #d76f10;">eval</span> <span style="color: #98be65;">"alias ${_rc_old_cmd}=\"${_rc_alt}\""</span>;
            <span style="color: #51afef;">return</span>
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">done</span>
    <span style="color: #d76f10;">unset</span> _rc_alt _rc_old_cmd
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge733e48" class="outline-3">
<h3 id="orge733e48">alias commands</h3>
<div class="outline-text-3" id="text-orge733e48">
<div class="org-src-container">
<pre class="src src-sh">_rc_alternative cat bat
_rc_alternative diff delta difft
_rc_alternative df lfs
_rc_alternative du <span style="color: #98be65;">"dust"</span> <span style="color: #98be65;">"du -hc"</span>
_rc_alternative grep <span style="color: #98be65;">"rg --color=auto"</span> <span style="color: #98be65;">"ag"</span> <span style="color: #98be65;">"pt"</span> <span style="color: #98be65;">"ack"</span>
_rc_alternative ls <span style="color: #98be65;">"exa -Fh --color=auto"</span>
_rc_alternative vim nvim
_rc_alternative ex nvim
_rc_alternative docker podman
_rc_alternative docker-compose <span style="color: #98be65;">"podman compose"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org60119c7" class="outline-3">
<h3 id="org60119c7">Atuin</h3>
<div class="outline-text-3" id="text-org60119c7">
<p>
Use <a href="https://github.com/ellie/atuin">atuin</a> for up-arrow history if available
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">'atuin'</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
    <span style="color: #d76f10;">eval</span> <span style="color: #98be65;">"$(atuin init "${_RC_SHELL}" 2&gt;/dev/null)"</span>
<span style="color: #51afef;">fi</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7506b31" class="outline-3">
<h3 id="org7506b31">List Contents</h3>
<div class="outline-text-3" id="text-org7506b31">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">la</span>=<span style="color: #98be65;">'ls -a'</span>;
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">ll</span>=<span style="color: #98be65;">'ls -lr -s size'</span>;
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">lla</span>=<span style="color: #98be65;">'ls -la'</span>;
<span style="color: #d76f10;">alias</span> l.=<span style="color: #98be65;">'ls -a |grep "^\."'</span>;
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">sl</span>=<span style="color: #98be65;">"ls"</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org095cf67" class="outline-2">
<h2 id="org095cf67">Variables</h2>
<div class="outline-text-2" id="text-org095cf67">
</div>
<div id="outline-container-orgaa3bd16" class="outline-3">
<h3 id="orgaa3bd16">XDG</h3>
<div class="outline-text-3" id="text-orgaa3bd16">
<p>
XDG standard locations specifications these can be redefined in
<code>${XDG_CONFIG_HOME:-${HOME}/.config}/pvt.d/.&lt;some name&gt;rc</code>
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">XDG_CACHE_HOME</span>=<span style="color: #98be65;">"${HOME}/.cache"</span>
<span style="color: #ffffaf;">XDG_CONFIG_HOME</span>=<span style="color: #98be65;">"${HOME}/.config"</span>
<span style="color: #ffffaf;">XDG_DATA_HOME</span>=<span style="color: #98be65;">"${HOME}/.local/share"</span>
<span style="color: #ffffaf;">XDG_STATE_HOME</span>=<span style="color: #98be65;">"${HOME}/.local/state"</span>
<span style="color: #ffffaf;">RUNCOMDIR</span>=<span style="color: #98be65;">"${HOME}/.runcom"</span>

<span style="color: #d76f10;">export</span> XDG_CACHE_HOME
<span style="color: #d76f10;">export</span> XDG_CONFIG_HOME
<span style="color: #d76f10;">export</span> XDG_DATA_HOME
<span style="color: #d76f10;">export</span> XDG_STATE_HOME
<span style="color: #d76f10;">export</span> RUNCOMDIR
</pre>
</div>
</div>
</div>

<div id="outline-container-org43da0d1" class="outline-3">
<h3 id="org43da0d1">PATH</h3>
<div class="outline-text-3" id="text-org43da0d1">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source="bin"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${HOME}/bin"</span> <span style="color: #51afef;">]</span> ; <span style="color: #51afef;">then</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> <span style="color: #98be65;">"${PATH#*${HOME}/bin}"</span> = <span style="color: #98be65;">"${PATH}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">PATH</span>=<span style="color: #98be65;">"${HOME}/bin:${PATH}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">fi</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck source=".local/bin"</span>
<span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -d <span style="color: #98be65;">"${HOME}/.local/bin"</span> <span style="color: #51afef;">]</span> ; <span style="color: #51afef;">then</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> <span style="color: #98be65;">"${PATH#*${HOME}/.local/bin}"</span> = <span style="color: #98be65;">"${PATH}"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">PATH</span>=<span style="color: #98be65;">"${HOME}/.local/bin:${PATH}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">fi</span>
<span style="color: #d76f10;">export</span> PATH;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaab8025" class="outline-3">
<h3 id="orgaab8025">Editor wars</h3>
<div class="outline-text-3" id="text-orgaab8025">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">while </span><span style="color: #d76f10;">read</span> -r avail; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"${avail}"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">EDITOR</span>=<span style="color: #98be65;">"${avail}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">done</span> &lt;&lt; EOF
<span style="color: #98be65;">nano</span>
<span style="color: #98be65;">vi</span>
<span style="color: #98be65;">vim</span>
<span style="color: #98be65;">nvim</span>
<span style="color: #98be65;">EOF</span>
<span style="color: #d76f10;">export</span> EDITOR

<span style="color: #51afef;">case</span> <span style="color: #98be65;">"$EDITOR"</span><span style="color: #51afef;"> in</span>
    vim)
        <span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">MANPAGER</span>=<span style="color: #98be65;">'/bin/bash -c "vim -MRn -c \"set buftype=nofile showtabline=0 ft=man ts=8 nomod nolist norelativenumber nonu noma\" -c \"normal L\" -c \"nmap q :qa&lt;CR&gt;\"&lt;/dev/tty &lt;(col -b)"'</span>
        ;;
    nvim)
        <span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">MANPAGER</span>=<span style="color: #98be65;">"nvim -c ':Man!' -"</span>
        ;;
    *)
        <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v bat; <span style="color: #51afef;">then</span>
            <span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">MANPAGER</span>=<span style="color: #98be65;">'bat -l man -p'</span>
        <span style="color: #51afef;">fi</span>
        ;;
<span style="color: #51afef;">esac</span>
<span style="color: #d76f10;">export</span> MANPAGER
</pre>
</div>
</div>
</div>

<div id="outline-container-org3c12315" class="outline-3">
<h3 id="org3c12315">C(++) exports</h3>
<div class="outline-text-3" id="text-org3c12315">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">LD_LIBRARY_PATH</span>=<span style="color: #98be65;">"${HOME}/.local/lib:${HOME}/.local/lib64"</span>;
<span style="color: #ffffaf;">C_INCLUDE_PATH</span>=<span style="color: #98be65;">"${XDG_DATA_HOME}/pspman/include/"</span>
<span style="color: #ffffaf;">CPLUS_INCLUDE_PATH</span>=<span style="color: #98be65;">"${XDG_DATA_HOME}/pspman/include/"</span>
<span style="color: #d76f10;">export</span> LD_LIBRARY_PATH
<span style="color: #d76f10;">export</span> C_INCLUDE_PATH
<span style="color: #d76f10;">export</span> CPLUS_INCLUDE_PATH
</pre>
</div>
</div>
</div>

<div id="outline-container-orgea8b2c7" class="outline-3">
<h3 id="orgea8b2c7">CARGO (Rust) exports</h3>
<div class="outline-text-3" id="text-orgea8b2c7">
<p>
Cargo unnecessarily clutters <code>${HOME}</code> with its DATA.
It should be in <code>XDG_DATA_HOME</code>
Also, cargo's binaries should be installed in
<code>${XDG_DATA_HOME}/../bin</code> like python3.
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">CARGO_HOME</span>=<span style="color: #98be65;">"${HOME}/.local/share/cargo"</span>
<span style="color: #d76f10;">export</span> CARGO_HOME
</pre>
</div>
</div>
</div>

<div id="outline-container-orge477218" class="outline-3">
<h3 id="orge477218">GPU exports</h3>
<div class="outline-text-3" id="text-orge477218">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">PYOPENCL_CTX</span>=<span style="color: #98be65;">'0'</span>;
<span style="color: #ffffaf;">PYOPENCL_COMPILER_OUTPUT</span>=<span style="color: #da8548; font-weight: bold;">1</span>;
<span style="color: #ffffaf;">OCL_ICD_VENDORS</span>=<span style="color: #98be65;">"/etc/OpenCL/vendors/"</span>;
<span style="color: #d76f10;">export</span> PYOPENCL_CTX
<span style="color: #d76f10;">export</span> PYOPENCL_COMPILER_OUTPUT
<span style="color: #d76f10;">export</span> OCL_ICD_VENDORS
</pre>
</div>
</div>
</div>

<div id="outline-container-org3822cff" class="outline-3">
<h3 id="org3822cff">Bemenu exports</h3>
<div class="outline-text-3" id="text-org3822cff">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">BEMENU_OPTS</span>=<span style="color: #98be65;">'--fn firacode 14 '</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc49acd" class="outline-3">
<h3 id="orgfc49acd">GTK+ debugging output</h3>
<div class="outline-text-3" id="text-orgfc49acd">
<p>
Silence debugging output for gtk+
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #ffffaf;">NO_AT_BRIDGE</span>=<span style="color: #da8548; font-weight: bold;">1</span>
<span style="color: #d76f10;">export</span> NO_AT_BRIDGE
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb85cfe2" class="outline-2">
<h2 id="orgb85cfe2">Functions</h2>
<div class="outline-text-2" id="text-orgb85cfe2">
</div>
<div id="outline-container-org7cebc9f" class="outline-3">
<h3 id="org7cebc9f">Python</h3>
<div class="outline-text-3" id="text-org7cebc9f">
</div>
<div id="outline-container-org5ba930e" class="outline-4">
<h4 id="org5ba930e">Python version</h4>
<div class="outline-text-4" id="text-org5ba930e">
<p>
to locate site-packages
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">default python version major.minor</span>
<span style="color: #9f5f9f; font-weight: bold;">python_ver</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    python --version |cut -d <span style="color: #98be65;">"."</span> -f1,2 |sed <span style="color: #98be65;">'s/ //'</span> |sed <span style="color: #98be65;">'s/P/p/'</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org47b82ee" class="outline-4">
<h4 id="org47b82ee">Quickly change to virtualenv</h4>
<div class="outline-text-4" id="text-org47b82ee">
<p>
Scan up to mount-point, if any direct parent has .venv, source that ".venv/bin/activate"
This may require shell-identification for ksh, csh, fish since they have a different activate
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Walk upto mount-point (if within 16 levels) and look for</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">'.venv' directory that contains python</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">virtual environment. If found, switch to it</span>
<span style="color: #9f5f9f; font-weight: bold;">to_venv</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">test_d</span>=<span style="color: #98be65;">"$(readlink -f "${PWD}")"</span>
    <span style="color: #ffffaf;">parents</span>=<span style="color: #da8548; font-weight: bold;">16</span>  <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">path too long to waste time</span>
    <span style="color: #51afef;">until</span> mountpoint <span style="color: #98be65;">"${test_d}"</span> &gt; /dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt; /dev/null; <span style="color: #51afef;">do</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> $<span style="color: #ffffaf;">parents</span> -le <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            printf <span style="color: #98be65;">"Too many branch-nodes searched"</span> &gt;&amp;<span style="color: #da8548; font-weight: bold;">2</span>
            <span style="color: #d76f10;">unset</span> parents test_d env_d
            <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">126</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">for</span> env_d<span style="color: #51afef;"> in</span> <span style="color: #98be65;">".venv"</span> <span style="color: #98be65;">"venv"</span>; <span style="color: #51afef;">do</span>
            <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -d <span style="color: #98be65;">"${test_d}/${env_d}"</span> <span style="color: #c678dd;">]</span> <span style="color: #98be65;">\</span>
                   || <span style="color: #c678dd;">[</span> -L <span style="color: #98be65;">"${test_d}/${env_d}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC1090</span>
                . <span style="color: #98be65;">"${test_d}/${env_d}/bin/activate"</span>
                printf <span style="color: #98be65;">"Found %s, switching...\n"</span> <span style="color: #98be65;">"${test_d}/${env_d}"</span>
                <span style="color: #d76f10;">unset</span> parents test_d env_d
                <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
            <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">done</span>
        <span style="color: #ffffaf;">test_d</span>=<span style="color: #98be65;">"$(dirname "${test_d}")"</span>
        <span style="color: #ffffaf;">parents</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>parents - <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #51afef;">done</span>
    printf <span style="color: #98be65;">"Couldn't find .venv upto mountpoint %s\n"</span> <span style="color: #98be65;">"${test_d}"</span> &gt;&amp;<span style="color: #da8548; font-weight: bold;">2</span>
    <span style="color: #d76f10;">unset</span> parents test_d env_d
    <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">126</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org017fe4c" class="outline-4">
<h4 id="org017fe4c">Virtualenv in prompt string</h4>
<div class="outline-text-4" id="text-org017fe4c">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">_rc_show_venv</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">if a virtualenv is active, print it's name</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"${VIRTUAL_ENV}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">base</span>=<span style="color: #98be65;">"$(basename "${VIRTUAL_ENV}")"</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${base}"</span> = <span style="color: #98be65;">".venv"</span> <span style="color: #c678dd;">]</span> || <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${base}"</span> = <span style="color: #98be65;">"venv"</span>  <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            printf <span style="color: #98be65;">"/%s"</span> <span style="color: #98be65;">"$(basename "$(dirname "${VIRTUAL_ENV}")")"</span>
            <span style="color: #d76f10;">unset</span> base
        <span style="color: #51afef;">else</span>
            printf <span style="color: #98be65;">"/%s"</span> <span style="color: #98be65;">"${base}"</span>
            <span style="color: #d76f10;">unset</span> base
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbddfc69" class="outline-3">
<h3 id="orgbddfc69">Git</h3>
<div class="outline-text-3" id="text-orgbddfc69">
</div>
<div id="outline-container-orgd46501f" class="outline-4">
<h4 id="orgd46501f">Status</h4>
<div class="outline-text-4" id="text-orgd46501f">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">git_status</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_modified</span>=<span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #ffffaf;">_cached</span>=<span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #ffffaf;">_untracked</span>=<span style="color: #da8548; font-weight: bold;">0</span>

    <span style="color: #51afef;">while </span><span style="color: #d76f10;">read</span> -r _line; <span style="color: #51afef;">do</span>
        <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${_line}"</span><span style="color: #51afef;"> in</span>
            _*_<span style="color: #98be65;">\ </span>_)
                <span style="color: #ffffaf;">_cached</span>=<span style="color: #da8548; font-weight: bold;">1</span>
                ;;
            _<span style="color: #98be65;">\ </span>_*_)
                <span style="color: #ffffaf;">_modified</span>=<span style="color: #da8548; font-weight: bold;">1</span>
                ;;
            _?_?_)
                <span style="color: #ffffaf;">_untracked</span>=<span style="color: #da8548; font-weight: bold;">1</span>
                ;;
        <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">done</span> &lt;&lt; endstat
<span style="color: #98be65;">$(git status --short | cut -b -2 | sed -e 's/\(.\)\(.*\)/_\1_\2_/')</span>
<span style="color: #98be65;">endstat</span>

    <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">''</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_modified"</span> -ne <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">"${_stat_str}</span><span style="color: #ffffff; background-color: #A93F43;">\033[0;31m</span><span style="color: #98be65;">\ue728"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_cached"</span> -ne <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">"${_stat_str}</span><span style="color: #000000; background-color: #59963A;">\033[0;32m</span><span style="color: #98be65;">\ue729"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_untracked"</span> -ne <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">"${_stat_str}</span><span style="color: #ffffff; background-color: #A93F43;">\033[0;31m</span><span style="color: #98be65;">\uf476"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"$(git stash list)"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_stat_str</span>=<span style="color: #98be65;">"${_stat_str}</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">\uf48e"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"${_stat_str}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2059  # I do want escape characters</span>
        printf <span style="color: #98be65;">"${_stat_str}\e[m"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> _modified _cached _untracked _stat_str
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org875c2bd" class="outline-4">
<h4 id="org875c2bd">Branch</h4>
<div class="outline-text-4" id="text-org875c2bd">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">git_branch</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">branch</span>=<span style="color: #98be65;">"$(git branch 2&gt;/dev/null | grep '^\*' | sed -e 's/^* //')"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"${branch}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${branch}"</span><span style="color: #51afef;"> in</span>
            feat-*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #000000; background-color: #59963A;">\033[0;32m</span><span style="color: #98be65;">"</span>
                ;;
            bug-*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #ffffff; background-color: #A93F43;">\033[0;31m</span><span style="color: #98be65;">"</span>
                ;;
            act-*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">"</span>
                ;;
            tmp-*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">"</span>
                ;;
            *HEAD<span style="color: #98be65;">\ </span>detached*|,*rebasing*)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #000000; background-color: #BE8A2D;">\e[0;33m</span><span style="color: #98be65;">"</span>
                ;;
            main|master)
                <span style="color: #d76f10;">unset</span> branch branch_str
                <span style="color: #51afef;">return</span>
                ;;
            *)
                <span style="color: #ffffaf;">branch_str</span>=<span style="color: #98be65;">"${branch_str}</span><span style="color: #ffffff; background-color: #7F60A7;">\e[0;35m</span><span style="color: #98be65;">"</span>
                ;;
        <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">fi</span>
    printf <span style="color: #98be65;">"${branch_str}%s\ue725\e[m"</span> <span style="color: #98be65;">"${branch}"</span>
    <span style="color: #d76f10;">unset</span> branch_str branch
<span style="color: #51afef;">}</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orgb667527" class="outline-4">
<h4 id="orgb667527">Hash</h4>
<div class="outline-text-4" id="text-orgb667527">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #9f5f9f; font-weight: bold;">git_hash</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    git log --pretty=format:<span style="color: #98be65;">'%h'</span> -n <span style="color: #da8548; font-weight: bold;">1</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8e53fc6" class="outline-4">
<h4 id="org8e53fc6">Prompt string</h4>
<div class="outline-text-4" id="text-org8e53fc6">
<p>
Include git's branch, hash, status in PS1 if in git repository
This function is called in PS1 section below
</p>
<div class="org-src-container">
<pre class="src src-sh" id="org095b79d"><span style="color: #9f5f9f; font-weight: bold;">git_ps</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> git status --ignore-submodules &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">else</span>
        printf <span style="color: #98be65;">" %s%s%s "</span> <span style="color: #98be65;">"$(git_branch)"</span> <span style="color: #98be65;">"$(git_hash)"</span> <span style="color: #98be65;">"$(git_status)"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc5d92c7" class="outline-3">
<h3 id="orgc5d92c7">Prompt String</h3>
<div class="outline-text-3" id="text-orgc5d92c7">
</div>
<div id="outline-container-orgfb1a303" class="outline-4">
<h4 id="orgfb1a303">Exit_colour</h4>
<div class="outline-text-4" id="text-orgfb1a303">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Print ANSI terminal escape codes for colors according to exit status</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">of latest (last) executed command</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_last_exit_color</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">case</span> <span style="color: #98be65;">"$1"</span><span style="color: #51afef;"> in</span>
        <span style="color: #da8548; font-weight: bold;">0</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">success</span>
            printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #59963A;">\e[0;32m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">1</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">general error</span>
            printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #BE8A2D;">\e[0;33m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">2</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">misuse of shell builtins</span>
            printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\e[0;31m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">126</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">cannot execute</span>
            printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #7E8A90;">\e[0;37m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">127</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">command not found</span>
            printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #192033;">\e[0;30m</span><span style="color: #98be65;">"</span>
            ;;
        <span style="color: #da8548; font-weight: bold;">255</span>)
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">exit status limit</span>
            printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\e[0;31m</span><span style="color: #98be65;">"</span>
            ;;
        *)
            <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$1"</span> -gt <span style="color: #98be65;">"63"</span> <span style="color: #c678dd;">]</span> &amp;&amp; <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$1"</span> -lt <span style="color: #98be65;">"84"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">syserror.h</span>
                printf <span style="color: #98be65;">"</span><span style="color: #000000; background-color: #EC6261;">\e[0;91m</span><span style="color: #98be65;">"</span>

            <span style="color: #51afef;">elif</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$1"</span> -gt <span style="color: #98be65;">"127"</span> <span style="color: #c678dd;">]</span> &amp;&amp; <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$1"</span> -lt <span style="color: #98be65;">"191"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Fatal error</span>
                printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\e[0;41m</span><span style="color: #98be65;">"</span>
            <span style="color: #51afef;">else</span>
                printf <span style="color: #98be65;">"</span><span style="color: #ffffff; background-color: #A93F43;">\e[0;31m</span><span style="color: #98be65;">"</span>
            <span style="color: #51afef;">fi</span>
            <span style="color: #d76f10;">unset</span> _err
            ;;
    <span style="color: #51afef;">esac</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org539f83d" class="outline-4">
<h4 id="org539f83d">Elapsed_time</h4>
<div class="outline-text-4" id="text-org539f83d">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Calculate time elapsed (min/sec) while executing last command</span>
<span style="color: #9f5f9f; font-weight: bold;">_elapsed_time</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">$1 is start time $2 is end time</span>
    <span style="color: #ffffaf;">_cmd_start</span>=<span style="color: #98be65;">"$1"</span>
    <span style="color: #ffffaf;">_cmd_end</span>=<span style="color: #98be65;">"$2"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"$_cmd_end"</span> <span style="color: #c678dd;">]</span> || <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"$_cmd_start"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_sec</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> _cmd_end - _cmd_start <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #d76f10;">unset</span> _cmd_start _cmd_end
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_sec"</span> -le <span style="color: #da8548; font-weight: bold;">0</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_sec"</span> -le <span style="color: #da8548; font-weight: bold;">60</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"%s"</span> <span style="color: #98be65;">"${_sec}"</span>
        <span style="color: #d76f10;">unset</span> _sec
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_min</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> _sec/60 <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #d76f10;">unset</span> _sec
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_min"</span> -le <span style="color: #da8548; font-weight: bold;">60</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"%sm"</span> <span style="color: #98be65;">"${_min}"</span>
        <span style="color: #d76f10;">unset</span> _min
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_hr</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> _min/60 <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    <span style="color: #d76f10;">unset</span> _min
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$_hr"</span> -le <span style="color: #da8548; font-weight: bold;">24</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"%sh"</span> <span style="color: #98be65;">"${_hr}"</span>
        <span style="color: #d76f10;">unset</span> _hr
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">_day</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span> _hr/24 <span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
    printf <span style="color: #98be65;">"%sd"</span> <span style="color: #98be65;">"${_day}"</span>
    <span style="color: #d76f10;">unset</span> _min _day
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb18b53f" class="outline-4">
<h4 id="orgb18b53f">PROMPT_COMMAND</h4>
<div class="outline-text-4" id="text-orgb18b53f">
</div>
<div id="outline-container-org860e7bd" class="outline-5">
<h5 id="org860e7bd">bash</h5>
<div class="outline-text-5" id="text-org860e7bd">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export PROMPT_COMMAND=__prompt_command</span>

<span style="color: #9f5f9f; font-weight: bold;">preexec</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_cmd_start_t</span>=<span style="color: #98be65;">"${SECONDS}"</span>
<span style="color: #51afef;">}</span>

<span style="color: #9f5f9f; font-weight: bold;">precmd</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_exit_color</span>=<span style="color: #98be65;">"$(_rc_last_exit_color $?)"</span>

    <span style="color: #ffffaf;">_elapsed</span>=<span style="color: #98be65;">"$(_elapsed_time $_cmd_start_t ${SECONDS})"</span>
    <span style="color: #d76f10;">unset</span> _cmd_start_t

    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">unset previous</span>
    <span style="color: #ffffaf;">PS1</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">PS2</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">PS3</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">PS4</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">RPROMPT</span>=<span style="color: #98be65;">""</span>

    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[</span><span style="color: #000000; background-color: #59963A;">\e[0;32m</span><span style="color: #98be65;">\]\u\[\e[m\]"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[\e[3;35m\]\$(_rc_show_venv)\[\e[m\]"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"@"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[</span><span style="color: #ffffff; background-color: #4068A3;">\e[0;34m</span><span style="color: #98be65;">\]\h\[\e[m\]"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\$(git_ps)"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">\]:\W"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"\[</span><span style="color: #000000; background-color: #7E8A90;">\e[0;37m</span><span style="color: #98be65;">\]"</span>

    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"$(date '+%H:%M:%S')"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">" ${_exit_color}-${_elapsed}"</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">'\[\e[m\]\n&#187; '</span>

    <span style="color: #ffffaf;">PS2</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">PS2</span>+=<span style="color: #98be65;">"\[</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">\]cont..."</span>
    <span style="color: #ffffaf;">PS2</span>+=<span style="color: #98be65;">"\[\e[m\]"</span>
    <span style="color: #ffffaf;">PS2</span>+=<span style="color: #98be65;">"&#187; "</span>;

    <span style="color: #ffffaf;">PS3</span>=<span style="color: #98be65;">'Selection: '</span>;
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2ab1de1" class="outline-5">
<h5 id="org2ab1de1">zsh</h5>
<div class="outline-text-5" id="text-org2ab1de1">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #9f5f9f; font-weight: bold;">_rc_pspexec</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_cmd_start_t</span>=<span style="color: #98be65;">"${SECONDS}"</span>
<span style="color: #51afef;">}</span>

<span style="color: #9f5f9f; font-weight: bold;">_rc_pspps</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">_exit_color</span>=<span style="color: #98be65;">"$(_rc_last_exit_color $?)"</span>

    <span style="color: #ffffaf;">_elapsed</span>=<span style="color: #98be65;">"$(_elapsed_time $_cmd_start_t ${SECONDS})"</span>
    <span style="color: #d76f10;">unset</span> _cmd_start_t

    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">unset previous</span>
    <span style="color: #ffffaf;">PS1</span>=$<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">PS2</span>=$<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">PS3</span>=$<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">PS4</span>=$<span style="color: #98be65;">''</span>
    <span style="color: #ffffaf;">RPROMPT</span>=$<span style="color: #98be65;">''</span>

    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #000000; background-color: #59963A;">\e[0;32m</span><span style="color: #98be65;">%}%n%{\e[m%}'</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{\e[3;35m%}'</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"$(_rc_show_venv)"</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{\e[m%}'</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'@'</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #ffffff; background-color: #4068A3;">\e[0;34m</span><span style="color: #98be65;">%}%m%{\e[m%}'</span>
    <span style="color: #ffffaf;">PS1</span>+=<span style="color: #98be65;">"$(git_ps)"</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">%}:%1~'</span>
    <span style="color: #ffffaf;">PS1</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #000000; background-color: #7E8A90;">\e[0;37m</span><span style="color: #98be65;">%}\n%{\e[m%}&#187; '</span>

    <span style="color: #ffffaf;">PS2</span>+=$<span style="color: #98be65;">'%{</span><span style="color: #000000; background-color: #4E9B9B;">\e[0;36m</span><span style="color: #98be65;">%}cont...'</span>
    <span style="color: #ffffaf;">PS2</span>+=$<span style="color: #98be65;">'%{\e[m%}'</span>
    <span style="color: #ffffaf;">PS2</span>+=$<span style="color: #98be65;">'&#187; '</span>

    <span style="color: #ffffaf;">PS3</span>=<span style="color: #98be65;">'Selection: '</span>

    <span style="color: #ffffaf;">RPROMPT</span>+=$<span style="color: #98be65;">'%*'</span>
    <span style="color: #ffffaf;">RPROMPT</span>+=<span style="color: #98be65;">"%{$_exit_color%}-${_elapsed}"</span>
    <span style="color: #ffffaf;">RPROMPT</span>+=$<span style="color: #98be65;">'%{\e[m%}'</span>
    <span style="color: #d76f10;">unset</span> _exit_stat _elapsed
<span style="color: #51afef;">}</span>

add-zsh-hook precmd _rc_pspps
add-zsh-hook preexec _rc_pspexec

</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf077b86" class="outline-3">
<h3 id="orgf077b86">Mathematical</h3>
<div class="outline-text-3" id="text-orgf077b86">
</div>
<div id="outline-container-orgc722562" class="outline-4">
<h4 id="orgc722562">In-Line Calculator</h4>
<div class="outline-text-4" id="text-orgc722562">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">quick cmoonad line calculator</span>
<span style="color: #9f5f9f; font-weight: bold;">mathcalc</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"$*"</span>| bc -lq
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga71ed91" class="outline-4">
<h4 id="orga71ed91">Computational</h4>
<div class="outline-text-4" id="text-orga71ed91">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">convert from decimal to hexadecimal and back</span>
<span style="color: #9f5f9f; font-weight: bold;">dec2hex</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"hex:"</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"obase=16; $*"</span>| bc
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"dec:"</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"ibase=16; $*"</span>| bc
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5d4e791" class="outline-3">
<h3 id="org5d4e791">Documents compilation</h3>
<div class="outline-text-3" id="text-org5d4e791">
</div>
<div id="outline-container-org16943d6" class="outline-4">
<h4 id="org16943d6">PDF from Latex</h4>
<div class="outline-text-4" id="text-org16943d6">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">compile pdf from given latex file using pdflatex</span>
<span style="color: #9f5f9f; font-weight: bold;">pdfcompile</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if ! </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pdflatex"</span> <span style="color: #da8548; font-weight: bold;">1</span>&gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"pdftex is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>

    pdflatex <span style="color: #98be65;">"$1"</span>
    <span style="color: #51afef;">for</span> ext<span style="color: #51afef;"> in</span> <span style="color: #98be65;">".toc"</span> <span style="color: #98be65;">".log"</span> <span style="color: #98be65;">".aux"</span>; <span style="color: #51afef;">do</span>
        <span style="color: #c678dd;">[</span> -f <span style="color: #98be65;">"${1%.tex}${ext}"</span> <span style="color: #c678dd;">]</span> &amp;&amp; rm <span style="color: #98be65;">"${1%.tex}${ext}"</span>
    <span style="color: #51afef;">done</span>
    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pdflatex"</span> <span style="color: #da8548; font-weight: bold;">1</span>&gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        zathura <span style="color: #98be65;">"${1%.tex}.pdf"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org83118ec" class="outline-4">
<h4 id="org83118ec">Pandoc</h4>
<div class="outline-text-4" id="text-org83118ec">
</div>
<div id="outline-container-orgf182328" class="outline-5">
<h5 id="orgf182328">Org to Something</h5>
<div class="outline-text-5" id="text-orgf182328">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export from org to 'other' using pandoc</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Usage: org2export [-f] &lt;infile&gt; &lt;othtype&gt;</span>
<span style="color: #9f5f9f; font-weight: bold;">org2export</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if ! </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pandoc"</span> <span style="color: #da8548; font-weight: bold;">1</span>&gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"pandoc is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">proceed</span>=false
    <span style="color: #51afef;">while</span> test $<span style="color: #ffffaf;">#</span> -gt <span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">do</span>
        <span style="color: #51afef;">case</span> <span style="color: #98be65;">"$1"</span><span style="color: #51afef;"> in</span>
            -f|--force)
                <span style="color: #ffffaf;">proceed</span>=true
                <span style="color: #d76f10;">shift</span> <span style="color: #da8548; font-weight: bold;">1</span>
                ;;
            -h|--help)
                printf <span style="color: #98be65;">"Usage: org2export [-h|--help] [-f|--force] FILENAME.org OUTFMT\n\n"</span>
                printf <span style="color: #98be65;">"Optional Arguments:\n"</span>
                printf <span style="color: #98be65;">"%s\tshow this help message\n\n"</span> <span style="color: #98be65;">"-h|--help"</span>
                printf <span style="color: #98be65;">"%s\tignore extension mismatch\n"</span> <span style="color: #98be65;">"-f|--force"</span>
                printf <span style="color: #98be65;">"Positional Arguments:\n"</span>
                printf <span style="color: #98be65;">"FILENAME.org\tpath to input filename\n"</span>
                printf <span style="color: #98be65;">"OUTFMT\t\tformat of output [pdf, docs, ...]\n"</span>
                <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
                ;;
            --)
                <span style="color: #d76f10;">shift</span> <span style="color: #da8548; font-weight: bold;">1</span>
                ;;
            *)
                <span style="color: #ffffaf;">infile</span>=<span style="color: #98be65;">"${1}"</span>;
                <span style="color: #ffffaf;">target</span>=<span style="color: #98be65;">"${2}"</span>;
                <span style="color: #51afef;">break</span>
                ;;
        <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">done</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${target}"</span> = <span style="color: #98be65;">"pdf"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">target</span>=<span style="color: #98be65;">"latex"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${infile%.org}"</span> = <span style="color: #98be65;">"${infile}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">&lt;infile&gt;</span>
        printf <span style="color: #98be65;">"Input file should be an org file\n"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">&lt;infile&gt;.org</span>
        <span style="color: #ffffaf;">proceed</span>=true
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> $<span style="color: #ffffaf;">proceed</span>; <span style="color: #51afef;">then</span>
        pandoc -f org -t <span style="color: #98be65;">"${target}"</span> -o <span style="color: #98be65;">"${infile%.*}.${1}"</span> <span style="color: #98be65;">"$infile"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> proceed target infile
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgccbf413" class="outline-5">
<h5 id="orgccbf413">Org to Docx</h5>
<div class="outline-text-5" id="text-orgccbf413">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export from org to MS DOCX format using pandoc</span>
<span style="color: #9f5f9f; font-weight: bold;">org2doc</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    org2export <span style="color: #98be65;">"$@"</span> <span style="color: #98be65;">"docx"</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orga3913c3" class="outline-5">
<h5 id="orga3913c3">Org to PDF</h5>
<div class="outline-text-5" id="text-orga3913c3">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export from org to pdf format using pandoc</span>
<span style="color: #9f5f9f; font-weight: bold;">org2pdf</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    org2export <span style="color: #98be65;">"$@"</span> <span style="color: #98be65;">"pdf"</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org903691a" class="outline-5">
<h5 id="org903691a">Docx to Org</h5>
<div class="outline-text-5" id="text-org903691a">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export from MS DOCX to org mode using pandoc</span>
<span style="color: #9f5f9f; font-weight: bold;">doc2org</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if ! </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pandoc"</span> <span style="color: #da8548; font-weight: bold;">1</span>&gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"pandoc is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${1}"</span><span style="color: #51afef;"> in</span>
        *.docx)
            pandoc -f docx -t org -o <span style="color: #98be65;">"${1%.docx}.org"</span> <span style="color: #98be65;">"$1"</span>
            ;;
        *)
            <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"Input file must be a docx file"</span>
            ;;
    <span style="color: #51afef;">esac</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc4bed79" class="outline-3">
<h3 id="orgc4bed79">Mount over ssh</h3>
<div class="outline-text-3" id="text-orgc4bed79">
<p>
ssh Cloud mounts
</p>
<ul class="org-ul">
<li><p>
see <a href="./cloud_mount.html">cloud_mount</a>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">mount standard cloud locations using sshfs (read doc)</span>
<span style="color: #9f5f9f; font-weight: bold;">mount_cloud_sshfs</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">mount_script</span>=<span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bin/cloud_mount.sh"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -f <span style="color: #98be65;">"${mount_script}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">eval</span> <span style="color: #98be65;">"${mount_script}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">unmount standard cloud locations using sshfs (read doc)</span>
<span style="color: #9f5f9f; font-weight: bold;">umount_cloud_sshfs</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">mount_script</span>=<span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/bin/cloud_mount.sh"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -f <span style="color: #98be65;">"${mount_script}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">eval</span> <span style="color: #98be65;">"${mount_script}"</span> <span style="color: #98be65;">"umount"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>

</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org93eb0c3" class="outline-3">
<h3 id="org93eb0c3">Launch GUI</h3>
<div class="outline-text-3" id="text-org93eb0c3">
<p>
Launch application and exit terminal window
Acts like a launcher
Un-interactive terminal commands may also be called
Code is tangled in gui.org
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Launch command and kill current shell if command exists</span>
<span style="color: #9f5f9f; font-weight: bold;">gui</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #98be65;">"${RUNCOM:-${HOME}/.runcom}/bin/gui.sh"</span> <span style="color: #98be65;">"$*"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> $<span style="color: #ffffaf;">?</span> = <span style="color: #da8548; font-weight: bold;">65</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">if bin/gui.sh returns 65, kill shell, else, maintain</span>
        <span style="color: #51afef;">exit</span> <span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org972a193" class="outline-3">
<h3 id="org972a193">Un-Compress by context</h3>
<div class="outline-text-3" id="text-org972a193">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">uncompress using appropriate protocol (guessed from extension)</span>
<span style="color: #9f5f9f; font-weight: bold;">deconvolute</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"pigz"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">_gzip</span>=<span style="color: #98be65;">"pigz"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">_gzip</span>=<span style="color: #98be65;">'gzip'</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> -f <span style="color: #98be65;">"${1}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${1}: no such file"</span>;
    <span style="color: #51afef;">else</span>
        <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${1}"</span><span style="color: #51afef;"> in</span>
            *.tar.bz2) tar -xjf <span style="color: #98be65;">"${1}"</span> ;;
            *.tbz2) tar -xjf <span style="color: #98be65;">"${1}"</span> ;;
            *.tar.gz) tar -x --use-compress-program=<span style="color: #98be65;">"${_gzip}"</span> -f <span style="color: #98be65;">"${1}"</span> ;;
            *.tgz) tar -x --use-compress-program=<span style="color: #98be65;">"${_gzip}"</span> -f <span style="color: #98be65;">"${1}"</span> ;;
            *.gz) unpigz <span style="color: #98be65;">"${1}"</span> || gunzip <span style="color: #98be65;">"${1}"</span> ;;
            *.rar) unrar -x <span style="color: #98be65;">"${1}"</span> ;;
            *.tar) tar -xf <span style="color: #98be65;">"${1}"</span> ;;
            *.zip) unzip <span style="color: #98be65;">"${1}"</span> ;;
            *.tar.xz) tar -xf <span style="color: #98be65;">"${1}"</span> ;;
            *) <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"Cannot extract ${1}, provide explicit command"</span>;;
        <span style="color: #51afef;">esac</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> _gzip
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf72e006" class="outline-3">
<h3 id="orgf72e006">Navigate</h3>
<div class="outline-text-3" id="text-orgf72e006">
<ul class="org-ul">
<li><p>
When no virtualenv is active, but one is available, switch to it
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">cd</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${1}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">builtin</span> cd <span style="color: #98be65;">"${HOME}"</span> || <span style="color: #d76f10;">true</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #d76f10;">builtin</span> cd <span style="color: #98be65;">"${1}"</span>  || <span style="color: #d76f10;">true</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${VIRTUAL_ENV}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        to_venv <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>

<ul class="org-ul">
<li><p>
Inspired by <a href="https://lukesmith.xyz/">https://lukesmith.xyz/</a>
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Navigate using 'lf' and cd to location</span>
<span style="color: #9f5f9f; font-weight: bold;">lfcd</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> command -v <span style="color: #98be65;">'lf'</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"lf is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">tmp_file</span>=<span style="color: #98be65;">"$(mktemp)"</span>
    lf -last-dir-path=<span style="color: #98be65;">"${tmp_file}"</span> <span style="color: #98be65;">"$@"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -f <span style="color: #98be65;">"${tmp_file}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">target_dir</span>=<span style="color: #98be65;">"$(cat "${tmp_file}")"</span>
        rm -f <span style="color: #98be65;">"${tmp_file}"</span> &gt;/dev/null
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -d <span style="color: #98be65;">"${target_dir}"</span> <span style="color: #c678dd;">]</span> &amp;&amp; <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${target_dir}"</span> != <span style="color: #98be65;">"$(pwd)"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            <span style="color: #d76f10;">cd</span> <span style="color: #98be65;">"${target_dir}"</span> || <span style="color: #51afef;">return</span>
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> tmp_file target_dir
<span style="color: #51afef;">}</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Navigate using pattern 'fzf' and cd to location</span>
<span style="color: #9f5f9f; font-weight: bold;">fzfcd</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef; font-weight: bold;">!</span> command -v <span style="color: #98be65;">'fzf'</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"fzf is not installed\n"</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">127</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">cd</span> <span style="color: #98be65;">"$(dirname "$(fzf)")"</span> || <span style="color: #d76f10;">true</span>
<span style="color: #51afef;">}</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgd0e63f3" class="outline-3">
<h3 id="orgd0e63f3">zwc</h3>
<div class="outline-text-3" id="text-orgd0e63f3">
<ul class="org-ul">
<li><p>
Guess whether target is zipped;
if zipped, unzip and count else classical wc
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">gunzip, word count</span>
<span style="color: #9f5f9f; font-weight: bold;">zwc</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"$*"</span>
    <span style="color: #ffffaf;">fname</span>=<span style="color: #98be65;">"${args##* }"</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args% ${fname}}"</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args%${fname}}"</span>

    <span style="color: #51afef;">if</span> gzip -t <span style="color: #98be65;">"${fname}"</span> &gt; /dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${args}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            zcat -f <span style="color: #98be65;">"${fname}"</span> | wc
        <span style="color: #51afef;">else</span>
            <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2086</span>
            zcat -f <span style="color: #98be65;">"${fname}"</span> | wc $<span style="color: #ffffaf;">args</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">else</span>
        wc <span style="color: #98be65;">"$@"</span>
        <span style="color: #51afef;">return</span>
    <span style="color: #51afef;">fi</span>

<span style="color: #51afef;">}</span>
</pre>
</div></li>
</ul>
</div>
</div>

<div id="outline-container-org48eca2b" class="outline-3">
<h3 id="org48eca2b">disable auto-venv</h3>
<div class="outline-text-3" id="text-org48eca2b">
<ul class="org-ul">
<li>To disable auto-switching virtualenv, hard-set VIRTUAL_ENV
<ul class="org-ul">
<li><p>
Calling the function again reverts
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">When we wish NOT to use first encountered venv (default behaviour)</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">we use this function. (function behaviour: toggle)</span>
<span style="color: #9f5f9f; font-weight: bold;">force_global_venv</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${VIRTUAL_ENV}"</span> = <span style="color: #98be65;">"Global_Env"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">unset</span> VIRTUAL_ENV
        to_venv <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
    <span style="color: #51afef;">else</span>
        deactivate <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
        <span style="color: #ffffaf;">VIRTUAL_ENV</span>=<span style="color: #98be65;">"Global_Env"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org5fd77d8" class="outline-3">
<h3 id="org5fd77d8">lszcat</h3>
<div class="outline-text-3" id="text-org5fd77d8">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">gunzip and ls (if directory) or cat (if file)</span>
<span style="color: #9f5f9f; font-weight: bold;">lszcat</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"$*"</span>
    <span style="color: #ffffaf;">fname</span>=<span style="color: #98be65;">"${args##* }"</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args%% ${fname}}"</span>
    <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args%%${fname}}"</span>

    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v bat &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">betcat</span>=<span style="color: #98be65;">"$(which bat)"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">betcat</span>=<span style="color: #98be65;">"$(which cat)"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v exa &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">betls</span>=<span style="color: #98be65;">"$(which exa)"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">betls</span>=<span style="color: #98be65;">"$(which ls)"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${fname}"</span> <span style="color: #c678dd;">]</span> || <span style="color: #c678dd;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> <span style="color: #98be65;">"${fname#-}"</span> = <span style="color: #98be65;">"${fname}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${args}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${fname}"</span>
        <span style="color: #51afef;">else</span>
            <span style="color: #ffffaf;">args</span>=<span style="color: #98be65;">"${args} ${fname}"</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #ffffaf;">fname</span>=<span style="color: #98be65;">"$(readlink -f ".")"</span>
        <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${fname}"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -d <span style="color: #98be65;">"${fname}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2086</span>
        <span style="color: #98be65;">"${betls}"</span> $<span style="color: #c678dd;">{</span><span style="color: #ffffaf;">args</span><span style="color: #c678dd;">}</span> <span style="color: #98be65;">"${fname}"</span>
    <span style="color: #51afef;">elif</span> gzip -t <span style="color: #98be65;">"${fname}"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span>; <span style="color: #51afef;">then</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2086</span>
        zcat -f $<span style="color: #c678dd;">{</span><span style="color: #ffffaf;">args</span><span style="color: #c678dd;">}</span> <span style="color: #98be65;">"${fname}"</span> | <span style="color: #98be65;">"${betcat}"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2086</span>
        <span style="color: #98be65;">"${betcat}"</span> $<span style="color: #c678dd;">{</span><span style="color: #ffffaf;">args</span><span style="color: #c678dd;">}</span> <span style="color: #98be65;">"${fname}"</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9b31f5a" class="outline-3">
<h3 id="org9b31f5a">Manual pages</h3>
<div class="outline-text-3" id="text-org9b31f5a">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">if manpage is available, display. else display tldr if it is available</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">else, assume '--help' argument and display output passing --help to command</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_man_help</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> man <span style="color: #98be65;">"$@"</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #51afef;">elif</span> tldr <span style="color: #98be65;">"$@"</span>; <span style="color: #51afef;">then</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #51afef;">elif </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">"$1"</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"trying to display %s --help output\n"</span> <span style="color: #98be65;">"${1}"</span>
        <span style="color: #51afef;">if </span><span style="color: #d76f10;">builtin</span> command -v <span style="color: #98be65;">'bat'</span> &gt;/dev/null <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null; <span style="color: #51afef;">then</span>
            $<span style="color: #da8548; font-weight: bold;">1</span> --help <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span> | bat
        <span style="color: #51afef;">else</span>
            $<span style="color: #da8548; font-weight: bold;">1</span> --help <span style="color: #da8548; font-weight: bold;">2</span>&gt;&amp;<span style="color: #da8548; font-weight: bold;">1</span> | less -RF
        <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #51afef;">return</span> <span style="color: #da8548; font-weight: bold;">16</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org72c045e" class="outline-3">
<h3 id="org72c045e">Selection menu</h3>
<div class="outline-text-3" id="text-org72c045e">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">posix selection option by index in cli</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_posix_select</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">select implementation for POSIX</span>
    <span style="color: #ffffaf;">word_l</span>=<span style="color: #98be65;">""</span>
    <span style="color: #ffffaf;">count</span>=<span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #51afef;">for</span> word<span style="color: #51afef;"> in</span> <span style="color: #98be65;">"${@}"</span>; <span style="color: #51afef;">do</span>
        <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${word_l}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
            <span style="color: #ffffaf;">word_l</span>=<span style="color: #98be65;">"${word}"</span>
        <span style="color: #51afef;">else</span>
            <span style="color: #ffffaf;">word_l</span>=<span style="color: #98be65;">"${word_l} ${word}"</span>
        <span style="color: #51afef;">fi</span>
        <span style="color: #ffffaf;">count</span>=$<span style="color: #c678dd;">(</span><span style="color: #98be65;">(</span>count + <span style="color: #da8548; font-weight: bold;">1</span><span style="color: #98be65;">)</span><span style="color: #c678dd;">)</span>
        <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${count}: ${word}"</span> &gt;&amp;<span style="color: #da8548; font-weight: bold;">2</span>
    <span style="color: #51afef;">done</span>
    printf <span style="color: #98be65;">"Selection: "</span> &gt;&amp;<span style="color: #da8548; font-weight: bold;">2</span>
    <span style="color: #d76f10;">read</span> -r select_num
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${word_l}"</span> | cut -d<span style="color: #98be65;">' '</span> -f<span style="color: #98be65;">"${select_num}"</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
    <span style="color: #d76f10;">unset</span> word word_l
<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org780ea88" class="outline-2">
<h2 id="org780ea88">Aliases</h2>
<div class="outline-text-2" id="text-org780ea88">
</div>
<div id="outline-container-org4e1eba6" class="outline-3">
<h3 id="org4e1eba6">manual page help</h3>
<div class="outline-text-3" id="text-org4e1eba6">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">man</span>=<span style="color: #98be65;">"_rc_man_help"</span>;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgebb6789" class="outline-3">
<h3 id="orgebb6789">Network</h3>
<div class="outline-text-3" id="text-orgebb6789">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">nload</span>=<span style="color: #98be65;">'nload -u M -U G -t 10000 -a 3600 $(ip a | grep -m 1 " UP " | cut -d " " -f 2 | cut -d ":" -f 1)'</span>
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">nethogs</span>=<span style="color: #98be65;">'sudo su -l -c "nethogs $(ip a | grep  "state UP" | cut -d " " -f 2 | cut -d ":" -f 1) -d 10"'</span>;
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">ping</span>=<span style="color: #98be65;">"ping -c 4 "</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd584645" class="outline-3">
<h3 id="orgd584645">Monitor Job queues</h3>
<div class="outline-text-3" id="text-orgd584645">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">watch</span>=<span style="color: #98be65;">"watch -n 10 --color"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-orge5708e9" class="outline-3">
<h3 id="orge5708e9">Lazy single-handed exit</h3>
<div class="outline-text-3" id="text-orge5708e9">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">qqqq</span>=<span style="color: #98be65;">"exit"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org5f9308a" class="outline-3">
<h3 id="org5f9308a">[z]wc</h3>
<div class="outline-text-3" id="text-org5f9308a">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">wc</span>=<span style="color: #98be65;">"zwc"</span>;
</pre>
</div>
</div>
</div>

<div id="outline-container-org65a0c1e" class="outline-3">
<h3 id="org65a0c1e">Encrypted cURL</h3>
<div class="outline-text-3" id="text-org65a0c1e">
<ul class="org-ul">
<li>With look for <code>${HOME}/.netrc.gpg</code>.
If it exists, decrypt it and use the contents.</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">does nothing</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_decrypt_netrc</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #d76f10;">true</span>
<span style="color: #51afef;">}</span>
<span style="color: #d76f10;">alias</span> <span style="color: #ffffaf;">curl</span>=<span style="color: #98be65;">"curl --netrc-file &lt;( gpg --batch -q -d ~/.netrc.gpg )"</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgcbc7a6c" class="outline-2">
<h2 id="orgcbc7a6c">Networking</h2>
<div class="outline-text-2" id="text-orgcbc7a6c">
</div>
<div id="outline-container-orgd00feeb" class="outline-3">
<h3 id="orgd00feeb">State</h3>
<div class="outline-text-3" id="text-orgd00feeb">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #98be65;">"${RUNCOMDIR}/bin/timeout.sh"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org942027f" class="outline-3">
<h3 id="org942027f">SSH Agent</h3>
<div class="outline-text-3" id="text-org942027f">
<p>
Reuse ssh agent for all logins
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> -S <span style="color: #98be65;">"${HOME}/.ssh/ssh_auth_sock"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
    <span style="color: #d76f10;">eval</span> <span style="color: #98be65;">"$(ssh-agent)"</span>
    ln -sf <span style="color: #98be65;">"$SSH_AUTH_SOCK"</span> ~/.ssh/ssh_auth_sock
<span style="color: #51afef;">fi</span>
<span style="color: #ffffaf;">SSH_AUTH_SOCK</span>=~/.ssh/ssh_auth_sock
<span style="color: #d76f10;">export</span> SSH_AUTH_SOCK
ssh-add -l &gt; /dev/null || ssh-add
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8383883" class="outline-2">
<h2 id="org8383883">Window Manager settings</h2>
<div class="outline-text-2" id="text-org8383883">
</div>
<div id="outline-container-orgcb2ff73" class="outline-3">
<h3 id="orgcb2ff73">Terminal</h3>
<div class="outline-text-3" id="text-orgcb2ff73">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #51afef;">for</span> term<span style="color: #51afef;"> in</span> alacritty foot termite tilix urxvt xterm; <span style="color: #51afef;">do</span>
    <span style="color: #51afef;">if</span> <span style="color: #51afef;">[</span> -n <span style="color: #98be65;">"$(command -v $term)"</span> <span style="color: #51afef;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">defterm</span>=<span style="color: #98be65;">"$term"</span>;
        <span style="color: #d76f10;">export</span> defterm
        <span style="color: #51afef;">break</span>;
    <span style="color: #51afef;">fi</span>;
<span style="color: #51afef;">done</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6bd08a6" class="outline-3">
<h3 id="org6bd08a6">Sway exports</h3>
<div class="outline-text-3" id="text-org6bd08a6">
<p>
Don't really remember why these were made
Not using currently. Preserved for future
tangle to bash_login
export WLR_BACKENDS="headless";
export WLR_LIBINPUT_NO_DEVICES=1;
</p>
</div>
</div>

<div id="outline-container-org3f0c28e" class="outline-3">
<h3 id="org3f0c28e">User Interface (GUI/CLI)</h3>
<div class="outline-text-3" id="text-org3f0c28e">
<p>
If running from tty1 offer to launch a graphical session
</p>
</div>
<div id="outline-container-orgf486d62" class="outline-4">
<h4 id="orgf486d62">Graphical exports preparations</h4>
<div class="outline-text-4" id="text-orgf486d62">
<p>
Exports to be made according to selected graphical environment
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">exports common to both wayland and X11</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_common_exports</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"$XDG_RUNTIME_DIR"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">XDG_RUNTIME_DIR</span>=<span style="color: #98be65;">"/run/user/$(id -u)"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #ffffaf;">QT_PLUGIN_PATH</span>=<span style="color: #98be65;">"/usr/lib/kde4/plugins/"</span>
    <span style="color: #ffffaf;">QT_AUTO_SCREEN_SCALE_FACTOR</span>=<span style="color: #da8548; font-weight: bold;">0</span>
    <span style="color: #ffffaf;">QT_QPA_PLATFORMTHEME</span>=<span style="color: #98be65;">"qt5ct"</span>
    <span style="color: #ffffaf;">_JAVA_AWT_WM_NONREPARENTING</span>=<span style="color: #da8548; font-weight: bold;">1</span>

    <span style="color: #d76f10;">export</span> XDG_RUNTIME_DIR
    <span style="color: #d76f10;">export</span> QT_PLUGIN_PATH
    <span style="color: #d76f10;">export</span> QT_AUTO_SCREEN_SCALE_FACTOR
    <span style="color: #d76f10;">export</span> QT_QPA_PLATFORMTHEME
    <span style="color: #d76f10;">export</span> _JAVA_AWT_WM_NONREPARENTING
<span style="color: #51afef;">}</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">exports specific to wayland</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_exports_for_wayland</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export DISPLAY=":0"</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export WAYLAND_DISPLAY=wayland-0</span>
    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">export GDK_BACKEND=wayland,x11</span>
    _rc_common_exports

    <span style="color: #ffffaf;">XDG_SESSION_TYPE</span>=<span style="color: #98be65;">"wayland"</span>
    <span style="color: #ffffaf;">SDL_VIDEODRIVER</span>=<span style="color: #98be65;">"wayland"</span>
    <span style="color: #ffffaf;">ECORE_EVAS_ENGINE</span>=<span style="color: #98be65;">"wayland_egl"</span>
    <span style="color: #ffffaf;">ELM_DISPLAY</span>=<span style="color: #98be65;">"wl"</span>
    <span style="color: #ffffaf;">ELM_ENGINE</span>=<span style="color: #98be65;">"wayland_egl"</span>
    <span style="color: #ffffaf;">ELM_ACCEL</span>=<span style="color: #98be65;">"opengl"</span>
    <span style="color: #ffffaf;">QT_QPA_PLATFORM</span>=<span style="color: #98be65;">"wayland-egl;xcb"</span>
    <span style="color: #ffffaf;">QT_WAYLAND_FORCE_DPI</span>=<span style="color: #da8548; font-weight: bold;">100</span>
    <span style="color: #ffffaf;">QT_WAYLAND_DISABLE_WINDOWDECORATION</span>=<span style="color: #da8548; font-weight: bold;">1</span>
    <span style="color: #ffffaf;">MOZ_ENABLE_WAYLAND</span>=<span style="color: #da8548; font-weight: bold;">1</span>
    <span style="color: #ffffaf;">SWAYROOT</span>=<span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/sway"</span>

    <span style="color: #d76f10;">export</span> XDG_SESSION_TYPE
    <span style="color: #d76f10;">export</span> SDL_VIDEODRIVER
    <span style="color: #d76f10;">export</span> ECORE_EVAS_ENGINE
    <span style="color: #d76f10;">export</span> ELM_DISPLAY
    <span style="color: #d76f10;">export</span> ELM_ENGINE
    <span style="color: #d76f10;">export</span> ELM_ACCEL
    <span style="color: #d76f10;">export</span> QT_QPA_PLATFORM
    <span style="color: #d76f10;">export</span> QT_WAYLAND_FORCE_DPI
    <span style="color: #d76f10;">export</span> QT_WAYLAND_DISABLE_WINDOWDECORATION
    <span style="color: #d76f10;">export</span> MOZ_ENABLE_WAYLAND
    <span style="color: #d76f10;">export</span> SWAYROOT
<span style="color: #51afef;">}</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">exports specific to x11</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_exports_for_x11</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    _rc_common_exports

    <span style="color: #ffffaf;">XDG_SESSION_TYPE</span>=<span style="color: #98be65;">"x11"</span>
    <span style="color: #ffffaf;">SDL_VIDEODRIVER</span>=<span style="color: #98be65;">"x11"</span>
    <span style="color: #ffffaf;">I3ROOT</span>=<span style="color: #98be65;">"${XDG_CONFIG_HOME:-${HOME}/.config}/i3"</span>

    <span style="color: #d76f10;">export</span> XDG_SESSION_TYPE
    <span style="color: #d76f10;">export</span> SDL_VIDEODRIVER
    <span style="color: #d76f10;">export</span> I3ROOT

    <span style="color: #d76f10;">unset</span> ECORE_EVAS_ENGINE
    <span style="color: #d76f10;">unset</span> ELM_DISPLAY
    <span style="color: #d76f10;">unset</span> ELM_ENGINE
    <span style="color: #d76f10;">unset</span> ELM_ACCEL
    <span style="color: #d76f10;">unset</span> QT_QPA_PLATFORM
    <span style="color: #d76f10;">unset</span> QT_WAYLAND_FORCE_DPI
    <span style="color: #d76f10;">unset</span> QT_WAYLAND_DISABLE_WINDOWDECORATION
    <span style="color: #d76f10;">unset</span> MOZ_ENABLE_WAYLAND
<span style="color: #51afef;">}</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">offer to export proxies to global environment before launching GUI</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_exports_for_proxies</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${export_proxies}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"Export proxies?[y/N]:\t"</span>
        <span style="color: #d76f10;">read</span> -r export_proxies
    <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">case</span> <span style="color: #98be65;">"${export_proxies}}"</span><span style="color: #51afef;"> in</span>
        Y*|y*)
            <span style="color: #ffffaf;">all_proxy</span>=<span style="color: #98be65;">"$("${RUNCOMDIR:-${HOME}/.runcom}"/bin/proxy_extract.sh)"</span>
            <span style="color: #ffffaf;">http_proxy</span>=<span style="color: #98be65;">"${all_proxy}"</span>
            <span style="color: #ffffaf;">https_proxy</span>=<span style="color: #98be65;">"${all_proxy}"</span>
            <span style="color: #ffffaf;">ftp_proxy</span>=<span style="color: #98be65;">"${all_proxy}"</span>
            <span style="color: #ffffaf;">ftps_proxy</span>=<span style="color: #98be65;">"${all_proxy}"</span>

            <span style="color: #d76f10;">export</span> all_proxy
            <span style="color: #d76f10;">export</span> http_proxy
            <span style="color: #d76f10;">export</span> https_proxy
            <span style="color: #d76f10;">export</span> ftp_proxy
            <span style="color: #d76f10;">export</span> ftps_proxy
            ;;
        *)
            ;;
    <span style="color: #51afef;">esac</span>

<span style="color: #51afef;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org5357f07" class="outline-4">
<h4 id="org5357f07">Graphical selections</h4>
<div class="outline-text-4" id="text-org5357f07">
<p>
Display protocol and session selection
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">clear TTY, recolor</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_clean_up_tty</span><span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    _rc_common_exports
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"$TERM"</span> = <span style="color: #98be65;">"linux"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        printf <span style="color: #98be65;">"\e]P0000000"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">black</span>
        printf <span style="color: #98be65;">"\e]P83f3f3f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkgrey</span>
        printf <span style="color: #98be65;">"\e]P19f3f3f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkred</span>
        printf <span style="color: #98be65;">"\e]P9ff9f9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">red</span>
        printf <span style="color: #98be65;">"\e]P23f9f3f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkgreen</span>
        printf <span style="color: #98be65;">"\e]PAbfefbf"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">green</span>
        printf <span style="color: #98be65;">"\e]P3bf9f3f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">brown</span>
        printf <span style="color: #98be65;">"\e]PB9fff9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">yellow</span>
        printf <span style="color: #98be65;">"\e]P45f5f9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkblue</span>
        printf <span style="color: #98be65;">"\e]PC9f9fff"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">blue</span>
        printf <span style="color: #98be65;">"\e]P59f3f9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkmagenta</span>
        printf <span style="color: #98be65;">"\e]PDff9fff"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">magenta</span>
        printf <span style="color: #98be65;">"\e]P63f9f9f"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">darkcyan</span>
        printf <span style="color: #98be65;">"\e]PE9fffff"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">cyan</span>
        printf <span style="color: #98be65;">"\e]P7afafaf"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">lightgrey</span>
        printf <span style="color: #98be65;">"\e]PFffffff"</span> <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">white</span>
        clear <span style="color: #3f4f5f; background-color: #0f0f0f;">#</span><span style="color: #3f4f5f; background-color: #0f0f0f;">for background artifacting</span>
    <span style="color: #51afef;">fi</span>
<span style="color: #51afef;">}</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Choice for wayland/X11</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_select_display_protocol</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    mkdir -p <span style="color: #98be65;">"${XDG_STATE_HOME:-${HOME}/.local/state}/runcom"</span>
    <span style="color: #ffffaf;">default_proto</span>=<span style="color: #98be65;">"$(cat "${XDG_STATE_HOME:-${HOME}/.local/state}/runcom/graph_proto")"</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${default_proto}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">default_proto</span>=<span style="color: #98be65;">"non-graphical"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">""</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"Display protocols [${default_proto}]"</span>
    <span style="color: #ffffaf;">graph_proto</span>=<span style="color: #98be65;">"$(_rc_posix_select "wayland" "x11" "non-graphical")"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"${graph_proto}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${graph_proto}"</span> <span style="color: #98be65;">\</span>
             &gt; <span style="color: #98be65;">"${XDG_STATE_HOME:-${HOME}/.local/state}/runcom/graph_proto"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">graph_proto</span>=<span style="color: #98be65;">"${default_proto}"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> default_proto
<span style="color: #51afef;">}</span>

<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Choice of window manager / desktop environment</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">Args:</span>
<span style="color: #3f4f5f; background-color: #0f0f0f;">#     </span><span style="color: #3f4f5f; background-color: #0f0f0f;">$1: protocol name</span>
<span style="color: #9f5f9f; font-weight: bold;">_rc_select_proto_session</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">proto_name</span>=<span style="color: #98be65;">"${1}"</span>
    <span style="color: #ffffaf;">sessions_mem</span>=<span style="color: #98be65;">"${XDG_STATE_HOME:-${HOME}/.local/state}/runcom/${proto_name}_session"</span>

    <span style="color: #ffffaf;">protoinitrc</span>=<span style="color: #98be65;">".xinitrc"</span>
    <span style="color: #ffffaf;">sessions_dir</span>=<span style="color: #98be65;">"/usr/share/xsessions/"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${proto_name}"</span> = <span style="color: #98be65;">"wayland"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">protoinitrc</span>=<span style="color: #98be65;">".wayinitrc"</span>
        <span style="color: #ffffaf;">sessions_dir</span>=<span style="color: #98be65;">"/usr/share/wayland-sessions/"</span>
    <span style="color: #51afef;">fi</span>

    <span style="color: #ffffaf;">default_session</span>=<span style="color: #98be65;">"$(cat "${sessions_mem}")"</span> <span style="color: #da8548; font-weight: bold;">2</span>&gt;/dev/null
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${default_session}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #ffffaf;">default_session</span>=<span style="color: #98be65;">"${protoinitrc}"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">""</span>
    <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${proto_name} sessions [${default_session}]"</span>

    <span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">shellcheck disable=SC2046</span>
    <span style="color: #ffffaf;">exec_session</span>=<span style="color: #98be65;">"$(_rc_posix_select $(ls "${sessions_dir}"))"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -n <span style="color: #98be65;">"${exec_session}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        <span style="color: #d76f10;">echo</span> <span style="color: #98be65;">"${exec_session}"</span> <span style="color: #98be65;">\</span>
             &gt; <span style="color: #98be65;">"${sessions_mem}"</span>
    <span style="color: #51afef;">else</span>
        <span style="color: #ffffaf;">exec_session</span>=<span style="color: #98be65;">"${default_session}"</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> default_session
    <span style="color: #d76f10;">unset</span> protoinitc
    <span style="color: #d76f10;">unset</span> sessions_dir
    <span style="color: #d76f10;">unset</span> proto_name
<span style="color: #51afef;">}</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org7357d19" class="outline-4">
<h4 id="org7357d19">Interaction</h4>
<div class="outline-text-4" id="text-org7357d19">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">main UI choice routine</span>
<span style="color: #9f5f9f; font-weight: bold;">main</span> <span style="color: #51afef;">()</span> <span style="color: #51afef;">{</span>
    <span style="color: #ffffaf;">nowtty</span>=<span style="color: #98be65;">"$(tty)"</span>
    <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #51afef; font-weight: bold;">!</span> <span style="color: #98be65;">"${nowtty#/dev/tty}"</span> = <span style="color: #98be65;">"${nowtty}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
        _rc_exports_for_proxies
        <span style="color: #51afef;">if</span> $<span style="color: #c678dd;">{</span><span style="color: #ffffaf;">RUNCOM_LAUNCH_UI</span><span style="color: #c678dd;">}</span>; <span style="color: #51afef;">then</span>
            <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> -z <span style="color: #98be65;">"${RUNCOM_SESSION}"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                _rc_select_display_protocol
                <span style="color: #51afef;">if</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${graph_proto}"</span> = <span style="color: #98be65;">"x11"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                    _rc_exports_for_x11
                    _rc_select_proto_session <span style="color: #98be65;">"${graph_proto}"</span>
                    <span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">RUNCOM_SESSION</span>=<span style="color: #98be65;">"${graph_proto}: ${exec_session}"</span>
                    <span style="color: #51afef;">exec</span> <span style="color: #98be65;">"${RUNCOMDIR}/bin/x11start"</span> <span style="color: #98be65;">"${exec_session}"</span>
                <span style="color: #51afef;">elif</span> <span style="color: #c678dd;">[</span> <span style="color: #98be65;">"${graph_proto}"</span> = <span style="color: #98be65;">"wayland"</span> <span style="color: #c678dd;">]</span>; <span style="color: #51afef;">then</span>
                    _rc_exports_for_wayland
                    _rc_select_proto_session <span style="color: #98be65;">"${graph_proto}"</span>
                    <span style="color: #d76f10;">export</span> <span style="color: #ffffaf;">RUNCOM_SESSION</span>=<span style="color: #98be65;">"${graph_proto}: ${exec_session}"</span>
                    <span style="color: #51afef;">exec</span> <span style="color: #98be65;">"${RUNCOMDIR}/bin/waystart"</span> <span style="color: #98be65;">"${exec_session}"</span>
                <span style="color: #51afef;">fi</span>
            <span style="color: #51afef;">fi</span>
        <span style="color: #51afef;">fi</span>
    <span style="color: #51afef;">fi</span>
    <span style="color: #d76f10;">unset</span> nowtty graph_proto exec_session RUNCOM_SESSION
    _rc_clean_up_tty
<span style="color: #51afef;">}</span>

main <span style="color: #98be65;">"$@"</span>

</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org20d2c7b" class="outline-2">
<h2 id="org20d2c7b">Calls</h2>
<div class="outline-text-2" id="text-org20d2c7b">
</div>
<div id="outline-container-org9050916" class="outline-3">
<h3 id="org9050916">bash</h3>
<div class="outline-text-3" id="text-org9050916">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">netcheck source=.local/share/pspman/src/runcom/env/ui</span>
. <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/env/ui"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2613e3c" class="outline-3">
<h3 id="org2613e3c">zsh</h3>
<div class="outline-text-3" id="text-org2613e3c">
<div class="org-src-container">
<pre class="src src-bash"><span style="color: #3f4f5f; background-color: #0f0f0f;"># </span><span style="color: #3f4f5f; background-color: #0f0f0f;">netcheck source=.local/share/pspman/src/runcom/env/ui</span>
. <span style="color: #98be65;">"${RUNCOMDIR:-${HOME}/.runcom}/env/ui"</span>
</pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
